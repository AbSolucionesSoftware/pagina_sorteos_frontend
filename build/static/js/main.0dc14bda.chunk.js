(this.webpackJsonppagina_sorteos_frontend=this.webpackJsonppagina_sorteos_frontend||[]).push([[0],{406:function(e,t,n){},445:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(31),s=n.n(r),i=n(19),o=n(40),l=n(36),j=n(20),d=n.n(j),b=n(24),x=n(7),u=n(598),h=n(599),O=n(550),m=n(609),p=n(591),f=n(610),g=n(611),v=n(612),y=n(614),C=n(585),S=n(555),w=n(615),k=n(616),_=n(265),I=n.n(_),A=n(573),z=Object(A.a)({image:{maxHeight:"100%",maxWidth:"100%",display:"flex",justifyItems:"center",alignContent:"center",alignItems:"center"},imageRes:{maxHeight:"100%",maxWidth:"100%",display:"flex",justifyItems:"center",alignContent:"center",alignItems:"center"},containerImageDrawer:{width:"100px",height:"100px"}}),W=n(0),F=Object(a.createContext)(),D=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(x.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(),o=Object(x.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!1),b=Object(x.a)(d,2),u=b[0],h=b[1],O=Object(a.useState)([]),m=Object(x.a)(O,2),p=m[0],f=m[1],g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],C=v[1],S=Object(a.useState)(!1),w=Object(x.a)(S,2),k=w[0],_=w[1];return Object(W.jsx)(F.Provider,{value:{datos:r,setDatos:s,reload:u,setReload:h,datosSorteo:l,setDatosSorteo:j,boletos_seleccionados:p,setBoletosSeleccionados:f,loadingSorteo:y,setLoadingsorteo:C,finalizado:k,setFinalizado:_},children:t})},P=n(588),N=n(292),E=n(590),R=n(548),T=n(607),B=n(263),q=n.n(B),L=n(264),M=n.n(L),U=n(544);function G(){var e=a.useState(null),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Boolean(n),s=function(){c(null)};return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(T.a,{onClick:function(e){c(e.currentTarget)},size:"small",sx:{ml:2},children:Object(W.jsx)(P.a,{sx:{width:32,height:32,bgcolor:U.a[500]}})}),Object(W.jsxs)(N.a,{anchorEl:n,open:r,onClose:s,onClick:s,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(W.jsxs)(E.a,{component:o.b,to:"/admin",children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(q.a,{fontSize:"small"})}),"Panel administrador"]}),Object(W.jsxs)(E.a,{onClick:function(){return localStorage.removeItem("userSorteos"),localStorage.removeItem("tokenSorteos"),void window.location.reload()},children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(M.a,{fontSize:"small"})}),"Cerrar sesi\xf3n"]})]})]})}var H=n(556),V=n(557),Y=n(558);function J(){var e=c.a.useContext(F),t=e.datos,n=e.datosSorteo,r=z(),s=Object(a.useState)(!1),i=Object(x.a)(s,2),l=i[0],j=i[1],d=JSON.parse(localStorage.getItem("userSorteos")),b=localStorage.getItem("tokenSorteos"),u=function(){j(!l)};return t?Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)(O.a,{sx:{display:{xs:"flex",sm:"flex",md:"none",width:"100%"}},children:[Object(W.jsx)(m.a,{onClick:u,color:"inherit",size:"large",component:"span",children:Object(W.jsx)(I.a,{size:"large"})}),Object(W.jsx)(O.a,{flexGrow:1}),null!==b&&null!==d?Object(W.jsx)(G,{}):null]}),Object(W.jsxs)(O.a,{sx:{display:{xs:"none",sm:"none",md:"flex"},alignItems:"center",width:"100%"},children:[Object(W.jsx)(O.a,{className:r.containerImage,children:Object(W.jsx)(p.a,{component:o.b,to:"/",children:Object(W.jsx)("img",{className:r.image,src:t.imgEmpresaUrl,alt:"imagen logo"})})}),Object(W.jsx)(O.a,{display:"flex",alignContent:"center",justifyItems:"center",mx:1,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:t.nombre_empresa})})}),Object(W.jsx)(O.a,{flexGrow:1}),Object(W.jsx)(g.a,{color:"inherit",sx:{textTransform:"none",fontSize:17,mx:1},component:o.b,to:"/",onClick:function(){return setTimeout((function(){window.scrollTo(0,0)}),200)},children:"Inicio"}),t.preguntas&&t.preguntas.length>0?Object(W.jsx)(g.a,{color:"inherit",sx:{textTransform:"none",fontSize:17,mx:1},component:o.b,to:"/",onClick:function(){return setTimeout((function(){window.scrollTo(0,2e3)}),200)},children:"Preguntas Frecuentes"}):null,n?Object(W.jsx)(g.a,{color:"inherit",sx:{textTransform:"none",fontSize:17,mx:1},component:o.b,to:"/sorteos/boletos",onClick:function(){return setTimeout((function(){window.scrollTo(0,0)}),200)},children:"Comprar Boleto"}):null,null!==b&&null!==d?Object(W.jsx)(G,{}):null]}),Object(W.jsx)(v.a,{anchor:"left",open:l,onClose:u,children:Object(W.jsxs)(O.a,{height:"100%",children:[Object(W.jsx)(O.a,{sx:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(O.a,{className:r.containerImageDrawer,children:Object(W.jsx)("img",{className:r.image,src:t.imgEmpresaUrl,alt:"imagen logo"})})}),Object(W.jsxs)(y.a,{children:[Object(W.jsx)(C.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/",onClick:function(){u(),setTimeout((function(){window.scrollTo(0,0)}),200)},children:[Object(W.jsx)(w.a,{children:Object(W.jsx)(H.a,{})}),Object(W.jsx)(k.a,{primary:"Inicio"})]})}),t.preguntas&&t.preguntas.length>0?Object(W.jsx)(C.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/",onClick:function(){u(),setTimeout((function(){window.scrollTo(0,2e3)}),200)},children:[Object(W.jsx)(w.a,{children:Object(W.jsx)(V.a,{})}),Object(W.jsx)(k.a,{primary:"Preguntas Frecuentes"})]})}):null,n?Object(W.jsx)(C.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/sorteos/boletos",onClick:function(){u(),setTimeout((function(){window.scrollTo(0,0)}),200)},children:[Object(W.jsx)(w.a,{children:Object(W.jsx)(Y.a,{})}),Object(W.jsx)(k.a,{primary:"Comprar Boleto"})]})}):null]})]})})]}):null}var Z=n(593),X=n(267),Q=n.n(X),K=n(266),$=n.n(K),ee=n(268),te=n.n(ee);function ne(){var e=c.a.useContext(F).datos;return e?Object(W.jsxs)(O.a,{style:{background:"black",color:"white"},children:[Object(W.jsxs)(O.a,{sx:{p:3},textAlign:"center",children:[Object(W.jsx)(f.a,{variant:"h4",children:"\xbfTienes dudas?, \xa1Escr\xedbenos!"}),Object(W.jsx)(O.a,{p:1,children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:e.telefono})})}),Object(W.jsxs)(O.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(W.jsx)(O.a,{children:""===e.instagram||void 0===e.instagram?null:Object(W.jsx)(m.a,{href:e.instagram,target:"_blank",children:Object(W.jsx)($.a,{style:{color:"white",fontSize:60}})})}),Object(W.jsx)(O.a,{children:""===e.facebook||void 0===e.facebook?null:Object(W.jsx)(m.a,{href:e.facebook,target:"_blank",children:Object(W.jsx)(Q.a,{style:{color:"white",fontSize:60}})})}),Object(W.jsx)(O.a,{children:""===e.twitter||void 0===e.twitter?null:Object(W.jsx)(m.a,{href:e.twitter,target:"_blank",children:Object(W.jsx)(te.a,{style:{color:"white",fontSize:60}})})})]})]}),Object(W.jsxs)(Z.a,{container:!0,spacing:1,justifyContent:"center",children:[Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:e.nombre_empresa})})}),Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsxs)("b",{children:[e.calle_numero,","]})})}),Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsxs)("b",{children:[e.colonia,","]})})}),Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsxs)("b",{children:["CP",e.cp,","]})})}),Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:e.ciudad})})})]}),Object(W.jsx)(O.a,{textAlign:"center",mt:3,children:"\xa9 Copyright 2021 Sorteos y Rifas de la Suerte. Sitio desarrollado por Ab Soluciones Empresariales"})]}):null}var ae=n(560),ce=n(269),re=n.n(ce).a.create({baseURL:"https://pagina-sorteos-backend.herokuapp.com/api"}),se=n(559),ie=n.p+"static/media/mantenimiento.a3cd26f4.svg",oe=n(105),le=n.n(oe);function je(e){var t=e.routes;return Object(W.jsx)(l.c,{children:t.map((function(e,t){return Object(W.jsx)(l.a,{path:e.path,exact:e.exact,component:e.component},t)}))})}var de=n(180),be=(n(406),n(407),de.a.BgElement);function xe(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(x.a)(r,2),i=s[0],o=s[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.get("/bannerAdmin/banner-company").then((function(e){c(e.data.bannersComapny),o(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),i&&0===n.length?null:Object(W.jsx)(a.Fragment,{children:Object(W.jsx)(de.b,{autoPlay:!0,prefixCls:"banner-user",delay:200,children:n.map((function(e,t){return Object(W.jsx)(de.a,{prefixCls:"banner-user-elem",className:"banner-user-elem",style:{backgroundImage:"url(".concat(e.imgBannerAdminUrl,")")},children:Object(W.jsx)(be,{className:"bg banner-elemento",children:Object(W.jsx)("img",{alt:"img-oferta",src:e.imgBannerAdminUrl,className:"img-banner"})},"bg")},t)}))})})}var ue=n(586),he=n(620),Oe=n(619),me=n(618),pe=n(271),fe=n.n(pe),ge=n(617);function ve(){var e,t=a.useState(!1),n=Object(x.a)(t,2),c=n[0],r=n[1],s=a.useContext(F).datos;return s.preguntas&&0===s.preguntas.length?null:Object(W.jsxs)(ge.a,{maxWidth:"md",id:"preguntas",children:[Object(W.jsx)(se.a,{mt:5,mb:3,textAlign:"center",children:Object(W.jsx)(me.a,{variant:"h3",children:Object(W.jsx)("b",{children:"Preguntas frecuentes"})})}),null===s||void 0===s||null===(e=s.preguntas)||void 0===e?void 0:e.map((function(e,t){return Object(W.jsxs)(ue.a,{expanded:c===t,onChange:(n=t,function(e,t){r(!!t&&n)}),children:[Object(W.jsx)(Oe.a,{expandIcon:Object(W.jsx)(fe.a,{}),"aria-controls":"panel1bh-content",children:Object(W.jsx)(me.a,{variant:"h6",sx:{width:"100%",flexShrink:0},children:e.pregunta})}),Object(W.jsx)(he.a,{children:Object(W.jsx)(me.a,{variant:"h6",children:e.respuesta})})]},t);var n}))]})}function ye(){var e=c.a.useContext(F).datos;return e.quienes_somos?Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)(ge.a,{maxWidth:"lg",children:[Object(W.jsxs)(O.a,{sx:{mt:2,p:1},children:[Object(W.jsx)(f.a,{variant:"h3",textAlign:"center",children:Object(W.jsx)("b",{children:"\xbfQuienes somos?"})}),Object(W.jsx)(O.a,{my:3}),Object(W.jsx)(f.a,{variant:"h4",textAlign:"center",children:Object(W.jsx)("b",{children:e.nombre_empresa})})]}),Object(W.jsx)(O.a,{sx:{p:1,mb:5},children:Object(W.jsx)(f.a,{textAlign:"justify",variant:"h6",children:e.quienes_somos})})]})}):null}function Ce(){var e=c.a.useContext(F).datosSorteo,t=Object(a.useState)(""),n=Object(x.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),o=Object(x.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(""),b=Object(x.a)(d,2),u=b[0],h=b[1],m=Object(a.useState)(""),p=Object(x.a)(m,2),g=p[0],v=p[1],y=Object(a.useState)(!1),C=Object(x.a)(y,2),S=C[0],w=C[1],k=Object(a.useRef)();if(Object(a.useEffect)((function(){return e&&(k.current=setInterval(_,1e3)),S&&clearInterval(k.current),function(){return clearInterval(k.current)}}),[e,S]),!e)return null;function _(){var t=e.fecha_sorteo,n=new Date(t)-new Date;n>0?(s(Math.floor(n/864e5)),j(Math.floor(n/36e5%24)),h(Math.floor(n/1e3/60%60)),v(Math.floor(n/1e3%60))):(w(!0),console.log("sorteo acabo"))}return console.log("ciclo"),S?Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a,{sx:{display:{xs:"none",sm:"block"}},textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"Sorteo finalizado"})})}),Object(W.jsx)(O.a,{mt:3,sx:{display:{xs:"block",sm:"none"}},textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Tiempo restante para el sorteo"})})}),Object(W.jsx)(O.a,{sx:{display:{xs:"none",sm:"block"}},textAlign:"center",children:Object(W.jsxs)(O.a,{display:"flex",textAlign:"center",children:[Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"dias"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"horas"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"minutos"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"segundos"})})})]})]})}),Object(W.jsx)(O.a,{p:2,sx:{display:{xs:"block",sm:"none"}},textAlign:"center",justifyContent:"center",alignItems:"center",justifyItems:"center",children:Object(W.jsxs)(O.a,{display:"flex",children:[Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"dias"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"horas"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"minutos"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"0"})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"segundos"})})})]})]})})]}):Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a,{sx:{display:{xs:"none",sm:"block"}},textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"Tiempo restante para el sorteo"})})}),Object(W.jsx)(O.a,{mt:3,sx:{display:{xs:"block",sm:"none"}},textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Tiempo restante para el sorteo"})})}),Object(W.jsx)(O.a,{sx:{display:{xs:"none",sm:"block"}},textAlign:"center",children:Object(W.jsxs)(O.a,{display:"flex",textAlign:"center",children:[Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:r})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"dias"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:l})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"horas"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:u})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"minutos"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:3,ml:3,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h1",children:Object(W.jsx)("b",{children:g})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"segundos"})})})]})]})}),Object(W.jsx)(O.a,{p:2,sx:{display:{xs:"block",sm:"none"}},textAlign:"center",justifyContent:"center",alignItems:"center",justifyItems:"center",children:Object(W.jsxs)(O.a,{display:"flex",children:[Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:r})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"dias"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:l})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"horas"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:u})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"minutos"})})})]}),Object(W.jsxs)(O.a,{display:"flex",flexDirection:"column",p:1,children:[Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:g})})}),Object(W.jsx)(O.a,{children:Object(W.jsx)(f.a,{sx:{fontSize:22},children:Object(W.jsx)("b",{children:"segundos"})})})]})]})})]})})}var Se=n(216),we=n.n(Se),ke=n(218),_e=n.n(ke),Ie=n(219),Ae=n.n(Ie),ze=n(136),We=n.n(ze);function Fe(){var e,t,n=c.a.useContext(F).datos,r=Object(a.useState)(0),s=Object(x.a)(r,2),i=s[0],o=s[1];return n.videos_ganadores&&0===n.videos_ganadores.length?null:Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)(ge.a,{maxWidth:"lg",sx:{my:5},children:[Object(W.jsx)(O.a,{textAlign:"center",sx:{display:"flex",justifyContent:"center",mt:6,p:1},children:Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:"Ganadores de Rifas y Sorteos de la Suerte"})})}),Object(W.jsx)(O.a,{textAlign:"center",sx:{display:"flex",justifyContent:"center",mt:1,mb:2,p:1},children:Object(W.jsx)(f.a,{variant:"h4",children:"Tu puedes ser el proximo Ganador"})}),Object(W.jsx)(O.a,{sx:{display:{xs:"none",sm:"block"}},style:{padding:"0 ".concat(40,"px")},children:Object(W.jsx)(we.a,{requestToChangeActive:o,activeItemIndex:i,numberOfCards:3,gutter:20,leftChevron:Object(W.jsx)(m.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(_e.a,{})}),rightChevron:Object(W.jsx)(m.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(Ae.a,{})}),outsideChevron:!0,infiniteLoop:!0,chevronWidth:40,children:null===n||void 0===n||null===(e=n.videos_ganadores)||void 0===e?void 0:e.map((function(e,t){return Object(W.jsxs)(O.a,{maxHeight:300,children:[Object(W.jsx)(O.a,{textAlign:"center",children:Object(W.jsx)(f.a,{variant:"subtitle1",children:Object(W.jsx)("b",{children:e.titulo_video})})}),Object(W.jsx)(We.a,{url:e.link_video,width:"100%",height:"100%"})]},t)}))})}),Object(W.jsx)(O.a,{sx:{display:{xs:"block",sm:"none"}},style:{padding:"0 ".concat(40,"px")},children:Object(W.jsx)(we.a,{requestToChangeActive:o,activeItemIndex:i,numberOfCards:1,gutter:20,leftChevron:Object(W.jsx)(m.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(_e.a,{})}),rightChevron:Object(W.jsx)(m.a,{"aria-label":"delete",disabled:!0,color:"primary",children:Object(W.jsx)(Ae.a,{})}),outsideChevron:!0,infiniteLoop:!0,chevronWidth:40,children:null===n||void 0===n||null===(t=n.videos_ganadores)||void 0===t?void 0:t.map((function(e,t){return Object(W.jsxs)(O.a,{maxHeight:300,children:[Object(W.jsx)(O.a,{textAlign:"center",children:Object(W.jsx)(f.a,{variant:"subtitle1",children:Object(W.jsx)("b",{children:e.titulo_video})})}),Object(W.jsx)(We.a,{url:e.link_video,width:"100%",height:"100%"})]},t)}))})})]})})}var De=n(223),Pe=n(23),Ne=n(629),Ee=n(613),Re=n(52),Te=n(595),Be=n(172),qe=n.n(Be),Le=n(600),Me=n(621),Ue=n(623),Ge=n(622),He=n(564),Ve=n(5),Ye=n(553),Je=n(581),Ze=n(274),Xe=n.n(Ze),Qe=n(275),Ke=n.n(Qe),$e=Object(A.a)((function(){return{snack:{zIndex:"".concat(99999,"!important")}}}));function et(e){var t=e.alert,n=e.setAlert,a=$e();return Object(W.jsx)(Ye.a,{children:Object(W.jsx)(Je.a,{className:a.snack,anchorOrigin:{vertical:"top",horizontal:"center"},open:t.open,onClose:function(){n({open:!1,status:t.status,message:""})},autoHideDuration:3e3,message:Object(W.jsxs)(O.a,{display:"flex",children:["success"===t.status?Object(W.jsx)(Xe.a,{style:{color:"#22bb33"}}):Object(W.jsx)(Ke.a,{style:{color:"red"}}),Object(W.jsx)(O.a,{mr:1}),Object(W.jsx)(f.a,{children:t.message})]})})})}var tt=n(575),nt=n(624),at=n(594),ct=n(625),rt=n(577),st=n(276),it=n.n(st),ot=n(562);function lt(e){var t=e.data,n=t.boletos_seleccionados,a=t.datosBoleto;return Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsxs)("div",{children:[Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(ot.a,{style:{fontSize:150,color:"#4caf50"}})}),Object(W.jsxs)(se.a,{mt:4,textAlign:"center",children:[Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:"\xa1Su pago ha sido realizado!"})}),Object(W.jsx)(f.a,{variant:"h5",children:"Has comprado los siguientes boletos"}),Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:null===n||void 0===n?void 0:n.map((function(e){return"".concat(e.numero_boleto," ")}))})}),Object(W.jsx)(f.a,{variant:"h6",children:"Compra realizada por"}),Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:a.nombres})})]})]})})}var jt=n(563);function dt(){return Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsxs)("div",{children:[Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(jt.a,{style:{fontSize:150,color:"#ef5350"}})}),Object(W.jsxs)(se.a,{mt:4,textAlign:"center",children:[Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:"\xa1Su pago ha sido rechazado!"})}),Object(W.jsx)(f.a,{variant:"h5",children:"Lo sentimos, hubo un problema con su pago"})]})]})})}var bt=a.forwardRef((function(e,t){return Object(W.jsx)(He.a,Object(i.a)({direction:"up",ref:t},e))}));function xt(e){var t=e.open,n=e.setOpen,a=e.handleCloseForm,c=e.dataPago,r=c.status,s=c.data,i=function(){n(!1),a(),window.location.reload()};return Object(W.jsxs)(Me.a,{open:t,TransitionComponent:bt,keepMounted:!0,onClose:i,fullWidth:!0,maxWidth:"xs",children:[Object(W.jsx)(Ge.a,{children:"success"===r?Object(W.jsx)(lt,{data:s}):Object(W.jsx)(dt,{})}),Object(W.jsx)(Ue.a,{sx:{justifyContent:"center"},children:Object(W.jsx)(Le.a,{onClick:i,children:"Cerrar"})})]})}function ut(e){var t=e.order,n=e.datosBoleto,r=e.setAlert,i=e.handleClose,o=localStorage.getItem("tokenSorteos"),l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],m=Object(a.useState)({status:"",data:""}),p=Object(x.a)(m,2),f=p[0],g=p[1],v=c.a.useContext(F).boletos_seleccionados,y={currency:"MXN",env:"sandbox",client:{sandbox:"AVrsUEjgEEWbcCGghzSJdeA8JsJCxsSC6kvK_YtQ6WQ--zD4bz6-O5e1jpUUtSz2NXl8W08jfSooAtQ0"}},C=it.a.Button.driver("react",{React:c.a,ReactDOM:s.a});return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(O.a,{display:"flex",justifyContent:"center",style:n.nombres&&n.apellidos&&n.estado&&n.telefono?null:{pointerEvents:"none",opacity:.4},children:Object(W.jsx)(C,{env:y.env,client:y.client,payment:function(e,n){return function(e,n){var a={transactions:[{amount:{total:t.total,currency:y.currency},description:"Compra boletos promoci\xf3n 4x1",custom:t.customer||"",item_list:{items:t.items}}],note_to_payer:"Cont\xe1ctanos para cualquier aclaraci\xf3n"};return n.payment.create({payment:a})}(0,n)},onAuthorize:function(e,a){return function(e,a){return a.payment.execute().then(function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,re.post("/pago",{cliente:n,boletos:v,total:t.total,id_paypal:a.id,pagado:!0},{headers:{Authorization:"bearer ".concat(o)}}).then((function(e){h(!0),g({status:"success",data:{boletos_seleccionados:v,datosBoleto:n}})})).catch((function(e){h(!0),g({status:"error",data:{boletos_seleccionados:v,paypal:"Error"}})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),r({open:!0,message:e,status:"error"})}))}(0,a)},onCancel:function(e,t){r({message:"Solicitud cancelada",status:"error",open:!0})},onError:function(e){return function(e){console.log(e),r({message:"Hubo un error con la solicitud",status:"error",open:!0})}(e)},style:{label:"pay",size:"medium",shape:"rect",color:"blue"},commit:!0,locale:"es_MX"})}),Object(W.jsx)(xt,{open:u,setOpen:h,dataPago:f,handleCloseForm:i})]})}function ht(e){var t,n=e.datosBoleto,c=e.order,r=e.setAlert,s=e.handleClose,i=Object(a.useState)(""),o=Object(x.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(!1),h=Object(x.a)(u,2),O=h[0],m=h[1],p=Object(a.useState)({status:"",data:""}),f=Object(x.a)(p,2),v=f[0],y=f[1],C=localStorage.getItem("tokenSorteos"),S=Object(a.useContext)(F).boletos_seleccionados,w=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==l){e.next=5;break}r({open:!0,message:"Agrege un cupon",status:"error"}),e.next=9;break;case 5:return e.next=7,re.post("/pago/cupon/".concat(l),{cliente:n,boletos:S,total:c.total,pagado:!0},{headers:{Authorization:"bearer ".concat(C)}});case 7:m(!0),y({status:"success",data:{boletos_seleccionados:S,datosBoleto:n}});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response),r({open:!0,message:e.t0.response.data.message,status:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)(tt.a,(t={id:"cupon",label:"Canjear Cupon",fullWidth:!0,size:"small",variant:"outlined",name:"cupon",style:{padding:"1px"}},Object(Ve.a)(t,"style",n.nombres&&n.apellidos&&n.estado&&n.telefono?null:{pointerEvents:"none",opacity:.4}),Object(Ve.a)(t,"value",l),Object(Ve.a)(t,"onChange",(function(e){j(e.target.value)})),t)),Object(W.jsx)(g.a,{variant:"outlined",color:"primary",size:"large",style:n.nombres&&n.apellidos&&n.estado&&n.telefono?null:{pointerEvents:"none",opacity:.4},onClick:function(){return w()},children:"Canjear"}),Object(W.jsx)(xt,{open:O,setOpen:m,dataPago:v,handleCloseForm:s})]})}var Ot=Object(l.f)((function(e){var t=e.sorteo,n=e.handleClose,r=Object(a.useState)([]),s=Object(x.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)("Cupon"),d=Object(x.a)(j,2),b=d[0],u=d[1],h=c.a.useContext(F).boletos_seleccionados,m=Object(a.useState)({message:"",status:"",open:!1}),p=Object(x.a)(m,2),g=p[0],v=p[1],y=function(e){l(Object(i.a)(Object(i.a)({},o),{},Object(Ve.a)({},e.target.name,e.target.value)))};if(!h.length)return null;var C=[{sku:h[0]._id,name:"Promoci\xf3n boletos 4x1",price:t.precio_boleto,quantity:1,currency:"MXN"}],S={customer:o.nombres,total:t.precio_boleto,items:C};return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(et,{alert:g,setAlert:v}),Object(W.jsx)(O.a,{p:2,textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h5",children:"Por favor completa tus datos para continuar la compra de tu boleto"})}),Object(W.jsxs)(ge.a,{maxWidth:"xs",children:[Object(W.jsx)(tt.a,{fullWidth:!0,onChange:y,size:"small",name:"nombres",id:"form-producto-clave-alterna",variant:"outlined",label:"Nombres",margin:"dense"}),Object(W.jsx)(tt.a,{fullWidth:!0,onChange:y,size:"small",name:"apellidos",id:"form-producto-clave-alterna",variant:"outlined",label:"Apellido",margin:"dense"}),Object(W.jsx)(tt.a,{fullWidth:!0,onChange:y,size:"small",name:"estado",id:"form-producto-clave-alterna",variant:"outlined",label:"Estado",margin:"dense"}),Object(W.jsx)(tt.a,{fullWidth:!0,onChange:y,size:"small",name:"telefono",id:"form-producto-clave-alterna",variant:"outlined",label:"Telefono",margin:"dense"}),Object(W.jsx)(nt.a,{component:"fieldset",children:Object(W.jsxs)(at.a,{defaultValue:"Cupon",name:"radio-buttons-group",value:b,onChange:function(e){u(e.target.value)},children:[Object(W.jsx)(ct.a,{value:"Cupon",control:Object(W.jsx)(rt.a,{}),label:"Cupon"}),Object(W.jsx)(ct.a,{value:"Paypal",control:Object(W.jsx)(rt.a,{}),label:"Paypal"})]})}),Object(W.jsx)(O.a,{sx:{display:"flex",justifyContent:"center",my:2},children:"Cupon"===b?Object(W.jsx)(ht,{order:S,datosBoleto:o,setAlert:v,handleClose:n}):Object(W.jsx)(ut,{order:S,datosBoleto:o,setAlert:v,handleClose:n})})]})]})})),mt=n(565),pt=a.forwardRef((function(e,t){return Object(W.jsx)(He.a,Object(i.a)({direction:"up",ref:t},e))}));function ft(e){var t=e.sorteo,n=a.useState(!1),c=Object(x.a)(n,2),r=c[0],s=c[1],i=a.useContext(F).boletos_seleccionados,o=function(){s(!1)};return Object(W.jsxs)("div",{children:[Object(W.jsx)(Le.a,{variant:"contained",color:"primary",disabled:4!==i.length,onClick:function(){s(!0)},children:"Comprar boletos"}),Object(W.jsxs)(Me.a,{open:r,TransitionComponent:pt,keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(Ge.a,{children:Object(W.jsx)(Ot,{sorteo:t,handleClose:o})}),Object(W.jsx)(Ue.a,{sx:{justifyContent:"center"},children:Object(W.jsx)(Le.a,{onClick:o,startIcon:Object(W.jsx)(mt.a,{}),children:"Cancelar"})})]})]})}var gt=n(626),vt=n(627),yt=n(628);function Ct(e){var t=e.sorteo.lista_premios,n=t.premio_uno,a=t.premio_dos,c=t.premio_tres;return Object(W.jsx)(ge.a,{maxWidth:"lg",sx:{my:2},children:Object(W.jsxs)(Z.a,{container:!0,spacing:3,alignItems:"center",children:[Object(W.jsx)(Z.a,{item:!0,sm:4,xs:12,children:a.imagen.url?Object(W.jsxs)(gt.a,{children:[Object(W.jsx)(vt.a,{component:"img",height:"194",image:a.imagen.url,alt:"premio 2"}),Object(W.jsxs)(yt.a,{children:[Object(W.jsx)(f.a,{variant:"h5",textAlign:"center",children:"2\xb0 Premio"}),Object(W.jsx)(f.a,{variant:"h6",textAlign:"center",color:"text.secondary",noWrap:!0,children:a.nombre_premio})]})]}):null}),Object(W.jsx)(Z.a,{item:!0,sm:4,xs:12,children:n.imagen.url?Object(W.jsxs)(gt.a,{sx:{height:360},children:[Object(W.jsx)(vt.a,{component:"img",height:"250",image:n.imagen.url,alt:"premio 1"}),Object(W.jsxs)(yt.a,{children:[Object(W.jsx)(f.a,{variant:"h5",textAlign:"center",children:Object(W.jsx)("b",{children:"1\xb0 Premio"})}),Object(W.jsx)(f.a,{variant:"h6",textAlign:"center",color:"text.secondary",noWrap:!0,children:n.nombre_premio})]})]}):null}),Object(W.jsx)(Z.a,{item:!0,sm:4,xs:12,children:c.imagen.url?Object(W.jsxs)(gt.a,{children:[Object(W.jsx)(vt.a,{component:"img",height:"194",image:c.imagen.url,alt:"premio 3"}),Object(W.jsxs)(yt.a,{children:[Object(W.jsx)(f.a,{variant:"h5",textAlign:"center",children:"3\xb0 Premio"}),Object(W.jsx)(f.a,{variant:"h6",textAlign:"center",color:"text.secondary",noWrap:!0,children:c.nombre_premio})]})]}):null})]})})}function St(e){var t=e.type,n=c.a.useContext(F),r=n.boletos_seleccionados,s=n.setBoletosSeleccionados,i=n.datosSorteo,o=n.loadingSorteo,l=n.finalizado,j=Object(a.useState)(""),d=Object(x.a)(j,2),b=d[0],u=d[1],h=Object(a.useState)([]),m=Object(x.a)(h,2),p=m[0],v=m[1];Object(a.useEffect)((function(){i&&v(i.boletos.filter((function(e){return e.numero_boleto.includes(b)})))}),[b,i]);var y=function(e,t){var n=Object(Pe.a)(r);if(void 0!==t){var a=n.filter((function(e){return e._id!==t}));s(a)}else s([].concat(Object(Pe.a)(n),[e]))};return o?Object(W.jsx)(O.a,{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(Ne.a,{})}):i?Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(ge.a,{maxWidth:"lg",sx:{p:2,mt:"FRENTE"!==t?8:2},children:Object(W.jsxs)(Z.a,{container:!0,spacing:3,children:[Object(W.jsx)(Z.a,{item:!0,md:6,sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:Object(W.jsx)(O.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",children:Object(W.jsx)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:i.imgSorteoBoletosUrl,alt:"Imagen de sorteo"})})}),Object(W.jsxs)(Z.a,{item:!0,md:6,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(W.jsxs)(O.a,{children:[Object(W.jsxs)(f.a,{variant:"h6",children:["Fecha del sorteo: ",Object(W.jsx)("b",{children:i.fecha_sorteo})]}),Object(W.jsx)(f.a,{variant:"h3",children:Object(W.jsx)("b",{children:i.nombre_sorteo})})]}),l?Object(W.jsx)(O.a,{mt:4,width:"100%",children:Object(W.jsx)(f.a,{variant:"h3",textAlign:"center",children:Object(W.jsx)("b",{children:"\xa1Sorteo finalizado!"})})}):Object(W.jsxs)(O.a,{mt:4,width:"100%",children:[Object(W.jsx)(f.a,{variant:"h3",textAlign:"center",children:Object(W.jsx)("b",{children:"\xa1Boletos Disponibles!"})}),Object(W.jsx)(f.a,{variant:"h2",children:Object(W.jsxs)("b",{children:["$ ",i.precio_boleto,".00 Mx."]})})]})]})]})}),Object(W.jsxs)(O.a,{children:[Object(W.jsx)(O.a,{textAlign:"center",p:2,children:Object(W.jsx)(f.a,{variant:"h4",children:Object(W.jsx)("b",{children:"\xa1Premios!"})})}),Object(W.jsx)(Ct,{sorteo:i})]}),"FRENTE"===t?l?null:Object(W.jsx)(O.a,{display:"flex",justifyContent:"center",mt:2,children:Object(W.jsx)(g.a,{href:"/sorteos/boletos",size:"large",sx:{fontSize:24},variant:"contained",children:"\xa1Compra tu Boleto!"})}):null,l||"FRENTE"===t?null:Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(O.a,{textAlign:"center",p:2,bgcolor:"black",children:Object(W.jsx)(f.a,{color:"white",variant:"h3",children:Object(W.jsx)("b",{children:"Boletos"})})}),Object(W.jsxs)(ge.a,{maxWidth:"lg",sx:{mt:2},children:[Object(W.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(W.jsx)(Z.a,{item:!0,md:6,xs:12,children:Object(W.jsxs)(Ee.a,{component:"form",variant:"outlined",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"auto"},children:[Object(W.jsx)(qe.a,{color:"action"}),Object(W.jsx)(Re.c,{fullWidth:!0,sx:{ml:1,flex:1},placeholder:"Busca tu boleto",inputProps:{"aria-label":"busca tu boleto"},onChange:function(e){return u(e.target.value)}})]})}),Object(W.jsxs)(Z.a,{item:!0,md:6,xs:12,sx:{display:"flex",alignItems:"center"},children:[Object(W.jsxs)(O.a,{display:"flex",justifyItems:"center",flexGrow:1,children:[Object(W.jsx)(Te.a,{variant:"outlined",label:"Disponibles"}),Object(W.jsx)(O.a,{mx:1}),Object(W.jsx)(Te.a,{disabled:!0,style:{backgroundColor:"#2e7d32"},label:"Vendidos"})]}),Object(W.jsx)(ft,{sx:{mt:1},sorteo:i})]})]}),Object(W.jsx)(Z.a,{container:!0,spacing:1,sx:{my:2},children:p.map((function(e,t){return Object(W.jsx)(Z.a,{item:!0,children:Object(W.jsx)(wt,{boleto:e,seleccionarBoletos:y,boletosFiltrados:p})},t)}))})]})]})]}):null}var wt=function(e){var t=e.boleto,n=e.seleccionarBoletos,r=e.boletosFiltrados,s=Object(a.useState)([]),i=Object(x.a)(s,2),o=i[0],l=i[1],j=c.a.useContext(F).boletos_seleccionados;Object(a.useEffect)((function(){l(j.filter((function(e){return e._id===t._id})))}),[j,r,t._id]);return Object(W.jsx)(O.a,{children:Object(W.jsx)(Te.a,{variant:"outlined",disabled:t.vendido,onClick:function(){j.length>=4&&!o.length||(o.length?n(t,t._id):n(t))},style:o.length>0&&o[0]._id===t._id||t.vendido?{backgroundColor:"#2e7d32"}:{backgroundColor:"white"},label:Object(W.jsx)(O.a,{p:1,children:Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:t.numero_boleto})})})})})};var kt=n(277),_t=Object(A.a)((function(e){return{image:{maxHeight:"100%",maxWidth:"100%",display:"flex",justifyItems:"center",alignContent:"center",alignItems:"center"},containerImage:{width:130,height:130}}}));var It=n.p+"static/media/Error.1caa57a8.png";function At(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(ge.a,{children:Object(W.jsx)(Z.a,{item:!0,lg:12,children:Object(W.jsxs)(se.a,{textAlign:"center",p:2,children:[Object(W.jsx)(f.a,{variant:"h3",children:"Esta pagina no se encuentra disponible"}),Object(W.jsx)("img",{src:It,alt:"Imagen de error",width:"50%",height:"50%"})]})})})})}var zt=n(630),Wt=n(566),Ft=n(567),Dt=n(632),Pt=n(608),Nt=n(582),Et=n(286),Rt=n.n(Et),Tt=n(279),Bt=n.n(Tt),qt=n(280),Lt=n.n(qt),Mt=n(282),Ut=n.n(Mt),Gt=n(287),Ht=n.n(Gt),Vt=n(281),Yt=n.n(Vt),Jt=n(283),Zt=n.n(Jt),Xt=n(278),Qt=n.n(Xt),Kt=n(631),$t=Object(a.createContext)(),en=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(x.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(x.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!1),b=Object(x.a)(d,2),u=b[0],h=b[1];return Object(W.jsx)($t.Provider,{value:{datos:r,setDatos:s,reload:l,setReload:j,alert:u,setAlert:h},children:t})},tn=n(284),nn=n.n(tn),an=240;var cn=Object(l.f)((function(e){var t=e.location.pathname.split("/"),n=a.useState(!1),c=Object(x.a)(n,2),r=c[0],s=c[1],i=a.useContext($t),l=i.setDatos,j=i.reload,u=i.datos,h=i.setReload,O=z(),m={admin:"Informaci\xf3n principal","publicidad-banners":"Banner publicitario","preguntas-frecuentes":"Preguntas frecuentes","videos-promocionales":"Videos promocionales","sorteos-boletos":"Sorteos","sorteos-eliminados":"Sorteos eliminados"}[t[2]?t[2]:t[1]]||"admin",p=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.get("/empresa/empresaSorteo").then((function(e){l(e.data.empresa)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.useEffect((function(){p(),h(!1)}),[j]);var f=function(){s(!r)},v=Object(W.jsxs)("div",{children:[Object(W.jsx)(Wt.a,{sx:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(Wt.a,{className:O.containerImageDrawer,children:Object(W.jsx)("img",{className:O.image,src:u.imgEmpresaUrl,alt:"imagen logo"})})}),Object(W.jsxs)(Pt.a,{children:[Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin",selected:"Informaci\xf3n principal"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Qt.a,{})}),Object(W.jsx)(me.a,{children:"Datos Principales"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin/publicidad-banners",selected:"Banner publicitario"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Bt.a,{})}),Object(W.jsx)(me.a,{children:"Banner Publicitario"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin/preguntas-frecuentes",selected:"Preguntas frecuentes"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Lt.a,{})}),Object(W.jsx)(me.a,{children:"Preguntas Frecuentes"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin/videos-promocionales",selected:"Videos promocionales"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Yt.a,{})}),Object(W.jsx)(me.a,{children:"Videos Promocionales"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin/sorteos-boletos",selected:"Sorteos"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Ut.a,{})}),Object(W.jsx)(me.a,{children:"Sorteos"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/admin/sorteos-eliminados",selected:"Sorteos eliminados"===m,children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(Zt.a,{})}),Object(W.jsx)(me.a,{children:"Sorteos eliminados"})]})}),Object(W.jsx)(Nt.a,{disablePadding:!0,children:Object(W.jsxs)(S.a,{component:o.b,to:"/",children:[Object(W.jsx)(R.a,{children:Object(W.jsx)(nn.a,{})}),Object(W.jsx)(me.a,{children:"Pagina principal"})]})})]})]});return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(Ft.a,{}),Object(W.jsx)(zt.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(an,"px)")},ml:{sm:"".concat(an,"px")}},color:"inherit",elevation:1,children:Object(W.jsxs)(Kt.a,{children:[Object(W.jsx)(T.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:f,sx:{mr:2,display:{sm:"none"}},children:Object(W.jsx)(Rt.a,{})}),Object(W.jsx)(me.a,{variant:"h6",children:m}),Object(W.jsx)(Wt.a,{flexGrow:1}),Object(W.jsx)(g.a,{color:"error",startIcon:Object(W.jsx)(Ht.a,{}),onClick:function(){localStorage.removeItem("userSorteos"),localStorage.removeItem("tokenSorteos"),window.location.reload()},children:"Cerrar sesi\xf3n"})]})}),Object(W.jsxs)(Wt.a,{component:"nav",sx:{width:{sm:an},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(W.jsx)(Dt.a,{variant:"temporary",open:r,onClose:f,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:an}},children:v}),Object(W.jsx)(Dt.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:an}},open:!0,children:v})]})]})}));function rn(e){var t=e.routes;return Object(W.jsx)(l.c,{children:t.map((function(e,t){return Object(W.jsx)(l.a,{path:e.path,exact:e.exact,component:e.component},t)}))})}n(293);var sn=n(554),on=n(634),ln=n(635),jn=n(636),dn=n(633),bn=n(85),xn=n(578),un=Object(A.a)((function(e){return{formInputFlex:{display:"flex"},imagen:{maxHeight:"100%",maxWidth:"100%"},dropZone:{width:500,height:230,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"}}}));function hn(e){var t=e.sorteoFinal,n=e.setSorteoFinal,c=e.dataImagen,r=e.setDataImagen,s=un(),o=Object(a.useState)(""),l=Object(x.a)(o,2),j=l[0],d=l[1],b=Object(a.useCallback)((function(e){d(URL.createObjectURL(e[0])),r(Object(i.a)(Object(i.a)({},c),{},{imagen:e[0]}))}),[c,r,d]),u=Object(bn.a)({onDrop:b}),h=u.getRootProps,O=u.getInputProps,m=u.isDragActive,p=function(e){n(Object(i.a)(Object(i.a)({},t),{},Object(Ve.a)({},e.target.name,e.target.value)))};return Object(W.jsx)("div",{children:Object(W.jsxs)(Ee.a,{elevation:6,children:[Object(W.jsx)(Z.a,{item:!0,lg:11,children:Object(W.jsx)(se.a,{display:"flex",children:Object(W.jsx)(se.a,{p:2,sx:{flexGrow:1},children:Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:"Informaci\xf3n de Sorteo"})})})})}),Object(W.jsxs)(se.a,{p:2,children:[Object(W.jsxs)("div",{className:s.formInputFlex,children:[Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Nombre Sorteo:"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"nombre_sorteo",value:t.nombre_sorteo?t.nombre_sorteo:"",variant:"outlined",onChange:p})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Precio de Boleto:"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"precio_boleto",value:t.precio_boleto?t.precio_boleto:"",variant:"outlined",onChange:p})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Fecha de Sorteo:"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"fecha_sorteo",type:"Date",value:t.fecha_sorteo?t.fecha_sorteo:"",variant:"outlined",onChange:p})]})]}),Object(W.jsx)(se.a,{p:2,width:"80%",children:Object(W.jsx)(dn.a,{})}),Object(W.jsx)(se.a,{children:Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Imagen Promocional"})})}),Object(W.jsx)(Z.a,{item:!0,lg:12,children:Object(W.jsx)(se.a,{textAlign:"center",display:"flex",justifyContent:"center",mt:3,children:Object(W.jsx)(xn.a,{severity:"info",children:"Tama\xf1o recomendado para su imagen: Alto: 1300px, Ancho: 800px"})})}),Object(W.jsx)(Z.a,{item:!0,lg:12,children:Object(W.jsxs)(se.a,Object(i.a)(Object(i.a)({className:s.dropZone},h()),{},{height:250,width:"50%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",children:[Object(W.jsx)("input",Object(i.a)({},O())),c.imagen||j?Object(W.jsx)(se.a,{height:200,display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)("img",{alt:"imagen del banner",src:j,className:s.imagen})}):m?Object(W.jsx)(f.a,{children:"Suelta tu imagen aqu\xed..."}):Object(W.jsx)(f.a,{children:"Arrastra y suelta tu imagen aqu\xed, o selecciona una imagen haciendo click aqu\xed"})]}))})]})]})})}var On=Object(A.a)((function(e){return{formInputFlex:{display:"flex"},imagen:{maxHeight:"100%",maxWidth:"100%"},dropZone:{width:500,height:230,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"}}}));function mn(e){var t,n=e.sorteoFinal,c=e.setSorteoFinal,r=On(),s=Object(a.useState)([]),o=Object(x.a)(s,2),l=o[0],j=o[1],d=[],b=function(e){j(Object(i.a)(Object(i.a)({},l),{},Object(Ve.a)({},e.target.name,parseInt(e.target.value))))};return Object(W.jsx)("div",{children:Object(W.jsxs)(Ee.a,{elevation:6,children:[Object(W.jsx)(Z.a,{item:!0,lg:11,children:Object(W.jsx)(se.a,{display:"flex",children:Object(W.jsx)(se.a,{p:2,sx:{flexGrow:1},children:Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:"Generador de boletos"})})})})}),Object(W.jsx)(se.a,{p:2,children:Object(W.jsxs)("div",{className:r.formInputFlex,children:[Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Cantidad de cifras:"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",type:"number",value:l.cantidad_cifras?l.cantidad_cifras:"",name:"cantidad_cifras",variant:"outlined",onChange:b})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Numero inicial"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",type:"number",name:"numero_inicial",value:l.numero_inicial||0===l.numero_inicial?l.numero_inicial:"",variant:"outlined",onChange:b})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Numero final:"}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",type:"number",name:"numero_final",value:l.numero_final?l.numero_final:"",variant:"outlined",onChange:b})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:"Numero final:"}),Object(W.jsx)(g.a,{variant:"outlined",color:"primary",size:"large",onClick:function(){return function(){for(var e=l.numero_inicial;e<l.numero_final+1;e++){var t={numero_boleto:e.toString().padStart(l.cantidad_cifras,"0"),nombres:"",telefono:"",apellidos:"",estado:"",fecha_pago:"",vendido:!1};d.push(t)}c(Object(i.a)(Object(i.a)({},n),{},{boletos:d})),j([])}()},children:"Generar"})]})]})}),Object(W.jsx)(Z.a,{container:!0,lg:12,children:null===n||void 0===n||null===(t=n.boletos)||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(se.a,{p:1,children:Object(W.jsx)(Ee.a,{elevantion:3,children:Object(W.jsx)(se.a,{p:1,children:Object(W.jsx)("b",{children:e.numero_boleto})})})},t)}))})]})})}var pn=n(568),fn=c.a.forwardRef((function(e,t){return Object(W.jsx)(sn.a,Object(i.a)({direction:"up",ref:t},e))}));function gn(e){var t=e.loading,n=e.setLoading,c=e.setRefreash,r=e.refreash,s=Object(a.useContext)($t).setAlert,i=Object(a.useState)(!1),o=Object(x.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)([]),h=Object(x.a)(u,2),O=h[0],m=h[1],p=Object(a.useState)(!1),f=Object(x.a)(p,2),v=f[0],y=(f[1],localStorage.getItem("tokenSorteos")),C=Object(a.useState)([]),S=Object(x.a)(C,2),w=S[0],k=S[1];if(v)return Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(Ne.a,{})});var _=function(){j(!l)},I=function(){var e=Object(b.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.nombre_sorteo&&w.fecha_sorteo&&w.precio_boleto&&w.boletos){e.next=4;break}s({message:"Datos inconpletos",status:"error",open:!0}),e.next=17;break;case 4:if(!w.boletos){e.next=7;break}if(0!==w.boletos.length){e.next=7;break}return e.abrupt("return");case 7:return(a=new FormData).append("nombre_sorteo",w.nombre_sorteo),a.append("fecha_sorteo",w.fecha_sorteo),a.append("boletos",JSON.stringify(w.boletos)),a.append("precio_boleto",w.precio_boleto),O.imagen&&a.append("imagen",O.imagen),console.log(),n(!0),e.next=17,re.post("/sorteo/crearSorteo/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"bearer ".concat(y)}}).then((function(e){k([]),s({message:"Sorteo creado con exito!",status:"success",open:!0}),c(!r),n(!t),_()})).catch((function(e){console.log(e.response),n(!1),k([]),s({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),_()}));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{children:[Object(W.jsx)(se.a,{p:1,children:Object(W.jsx)(g.a,{variant:"text",size:"large",color:"primary",startIcon:Object(W.jsx)(pn.a,{}),onClick:_,children:"Generar Sorteo"})}),Object(W.jsxs)(on.a,{open:l,TransitionComponent:fn,keepMounted:!0,fullWidth:!0,maxWidth:"lg",onClose:_,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsxs)(ln.a,{children:[Object(W.jsx)(hn,{sorteoFinal:w,setSorteoFinal:k,dataImagen:O,setDataImagen:m}),Object(W.jsx)(mn,{sorteoFinal:w,setSorteoFinal:k})]}),Object(W.jsxs)(jn.a,{children:[Object(W.jsx)(g.a,{color:"primary",variant:"contained",onClick:_,children:"Cancelar"}),Object(W.jsx)(g.a,{color:"error",variant:"contained",onClick:I,children:"Guardar"})]})]})]})}var vn=c.a.forwardRef((function(e,t){return Object(W.jsx)(sn.a,Object(i.a)({direction:"up",ref:t},e))}));function yn(e){var t=e.sorteo,n=e.loading,c=e.setLoading,r=Object(a.useContext)($t),s=r.setAlert,o=r.alert,l=Object(a.useState)(!1),j=Object(x.a)(l,2),h=j[0],O=j[1],p=Object(a.useState)([]),v=Object(x.a)(p,2),y=v[0],C=v[1],S=Object(a.useState)([]),w=Object(x.a)(S,2),k=w[0],_=w[1],I=Object(a.useState)(!1),A=Object(x.a)(I,2),z=A[0],F=A[1],D=function(){O(!h)},P=function(){F(!z)},N=function(e){C(Object(i.a)(Object(i.a)({},y),{},Object(Ve.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.numero_boleto&&y.nombres&&y.apellidos&&y.telefono&&y.estado){e.next=4;break}s({message:"Datos inconcompletos",status:"error",open:!0}),e.next=6;break;case 4:return e.next=6,re.put("/sorteo/comprarBoletoSorteo/".concat(y._id),y).then((function(e){P(),c(!n),s({message:"Numero agregado",status:"success",open:!0})})).catch((function(e){c(!n),s({message:"Ocurrio un problema en el servidor",status:"error",open:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t&&(console.log("entro"),_(t.boletos))}),[t]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(et,{alert:o,setAlert:s}),Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(g.a,{variant:"contained",size:"large",color:"primary",onClick:D,children:"Ver Boletos"})}),Object(W.jsxs)(Me.a,{open:h,TransitionComponent:vn,keepMounted:!0,fullWidth:!0,maxWidth:"lg",onClose:D,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(u.a,{position:"static",color:"default",elevation:0,children:Object(W.jsxs)(se.a,{display:"flex",children:[Object(W.jsx)(se.a,{p:2,children:Object(W.jsx)(f.a,{variant:"h5",children:"Lista de Boletos participantes"})}),Object(W.jsx)(se.a,{p:2,children:Object(W.jsxs)(Ee.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"auto"},children:[Object(W.jsx)(Re.c,{sx:{ml:1,flex:1},placeholder:"Buscar boleto",inputProps:{"aria-label":"busca tu boleto"},onChange:function(e){return function(e){if(""===e.target.value)_(t.boletos);else{console.log(e.target.value);var n=t.boletos.filter((function(t){return t.numero_boleto.indexOf(e.target.value)>-1}));_(n)}}(e)}}),Object(W.jsx)(m.a,{sx:{p:"10px"},"aria-label":"search",children:Object(W.jsx)(qe.a,{})})]})})]})}),Object(W.jsx)(Ge.a,{children:Object(W.jsx)(Z.a,{container:!0,children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(W.jsx)(se.a,{p:1,onClick:function(){P(),C(e)},children:Object(W.jsx)(Ee.a,{elevantion:3,style:{backgroundColor:!0===e.vendido?"#2e7d32":""},children:Object(W.jsx)(se.a,{p:1,children:Object(W.jsxs)(f.a,{children:[" ",Object(W.jsx)("b",{children:e.numero_boleto})," "]})})})},t)}))})}),Object(W.jsx)(Ue.a,{children:Object(W.jsx)(g.a,{color:"error",variant:"contained",onClick:function(){return D()},children:"Cerrar"})})]}),Object(W.jsxs)(Me.a,{open:z,TransitionComponent:vn,keepMounted:!0,fullWidth:!0,maxWidth:"xs",onClose:P,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsxs)(Ge.a,{children:[Object(W.jsx)(se.a,{textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h5",children:Object(W.jsx)("b",{children:"Informacion de Boleto"})})}),Object(W.jsxs)(Z.a,{children:[Object(W.jsx)(se.a,{display:"flex",width:"100%",p:1,children:Object(W.jsxs)(f.a,{variant:"h6",children:[Object(W.jsx)("b",{children:"No. de Boleto: "})," ",y.numero_boleto]})}),Object(W.jsxs)(se.a,{display:"flex",width:"100%",p:1,children:[Object(W.jsx)(f.a,{variant:"h6",p:1,children:Object(W.jsx)("b",{children:"Nombres: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"nombres",onChange:N,value:y.nombres?y.nombres:"",id:"form-producto-clave-alterna",variant:"outlined"})]}),Object(W.jsxs)(se.a,{display:"flex",width:"100%",p:1,children:[Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Apellidos: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"apellidos",onChange:N,value:y.apellidos?y.apellidos:"",id:"form-producto-clave-alterna",variant:"outlined"})]}),Object(W.jsxs)(se.a,{display:"flex",width:"100%",p:1,children:[Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Telefono: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"telefono",onChange:N,value:y.telefono?y.telefono:"",id:"form-producto-clave-alterna",variant:"outlined"})]}),Object(W.jsxs)(se.a,{display:"flex",width:"100%",p:1,children:[Object(W.jsx)(f.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Estado: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"estado",value:y.estado?y.estado:"",onChange:N,id:"form-producto-clave-alterna",variant:"outlined"})]}),Object(W.jsx)(se.a,{display:"flex",width:"100%",justifyContent:"center",justifyItems:"center",p:1,children:!0===y.vendido?Object(W.jsx)(f.a,{variant:"h5",style:{color:"green"},children:Object(W.jsx)("b",{children:"  Vendido"})}):""})]})]}),Object(W.jsx)(Ue.a,{children:Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(g.a,{color:"error",variant:"contained",onClick:P,children:"Cerrar"}),!1===y.vendido?Object(W.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return E()},children:"Registrar"}):null]})})]})]})}var Cn=n(637);function Sn(e){var t=e.sorteo,n=e.loading,c=e.setLoading,r=e.setRefreash,s=e.refreash,i=e.setPreview,o=Object(a.useContext)($t).setAlert,l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],O=function(){h(!u)},m=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,re.put("/sorteo/activeSorteo/".concat(t._id),{sorteo_activo:!1}).then((function(e){o({message:"Sorteo desactivado",status:"success",open:!0}),r(!s),c(!n),i("")})).catch((function(e){c(!n),o({message:"Ocurrio un problema en el servidor",status:"error",open:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",p:1,children:Object(W.jsx)(g.a,{size:"large",color:"error",variant:"contained",onClick:function(){return O()},children:"Desactivar sorteo"})}),Object(W.jsxs)(on.a,{open:u,onClose:O,children:[Object(W.jsx)(Cn.a,{children:"\xbfSeguro que quieres desactivar este sorteo?"}),Object(W.jsxs)(jn.a,{children:[Object(W.jsx)(g.a,{onClick:O,color:"primary",children:"Cancelar"}),Object(W.jsx)(g.a,{color:"primary",autoFocus:!0,variant:"contained",onClick:function(){return m()},children:"Desactivar"})]})]})]})}var wn=n(638),kn=n(569);function _n(e){var t=e.sorteo,n=e.dataImagen,c=Object(a.useState)(!1),r=Object(x.a)(c,2),s=r[0],i=r[1],o=Object(a.useContext)($t).setAlert,l=localStorage.getItem("tokenSorteos"),j=function(){var e=Object(b.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),(a=new FormData).append("nombre_sorteo",t.nombre_sorteo),a.append("fecha_sorteo",t.fecha_sorteo),a.append("precio_boleto",t.precio_boleto),n.imagen&&a.append("imagen",n.imagen),e.next=8,re.put("/sorteo/editarSorteo/".concat(t._id,"/editar"),a,{headers:{"Content-Type":"multipart/form-data",Authorization:"bearer ".concat(l)}}).then((function(e){console.log(e.data),i(!1),o({message:"Sorteo guardado",status:"success",open:!0})})).catch((function(e){console.log(e),i(!1),o({message:"Ocurrio un problema en el servidor",status:"error",open:!0})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return j()},startIcon:s?Object(W.jsx)(wn.a,{color:"inherit",size:18}):Object(W.jsx)(kn.a,{}),disabled:s,children:"Editar Sorteo"})}var In=n(639),An=n(574),zn=n(640),Wn=Object(A.a)((function(e){return{imagen:{maxHeight:"100%",maxWidth:"100%",display:"flex",justifyItems:"center",alignContent:"center",alignItems:"center"},containerImage:{width:130,height:130},formInputFlex:{display:"flex"},dropZone:{width:550,height:280,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"},input_100:{width:"100%"},m:{margin:"0px 5px"}}}));function Fn(e){var t=e.id,n=e.premio,c=e.sorteo,r=e.sSetLoading,s=e.sloading,o=Wn(),l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],O=Object(a.useState)(""),m=Object(x.a)(O,2),p=m[0],f=m[1],g=Object(a.useState)([]),v=Object(x.a)(g,2),y=v[0],C=v[1],S=Object(a.useState)((null===n||void 0===n?void 0:n.nombre_premio)?n.nombre_premio:""),w=Object(x.a)(S,2),k=w[0],_=w[1],I=Object(a.useState)(!1),A=Object(x.a)(I,2),z=A[0],F=A[1],D=localStorage.getItem("token"),P=Object(a.useContext)($t).setAlert,N=function(){h(!1)},E=function(){var e=Object(b.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(y.imagen),console.log(k),F(!0),(a=new FormData).append("nombre_premio",k),y.imagen&&a.append("imagen",y.imagen),e.next=8,re.put("/sorteo/edit/lista/premios/".concat(c._id,"/premio/").concat(t),a,{headers:{"Content-Type":"multipart/form-data",Authorization:"bearer ".concat(D)}}).then((function(e){console.log(e.data),F(!1),P({message:"Sorteo guardado",status:"success",open:!0}),N(),r(!s)})).catch((function(e){console.log(e),F(!1),P({message:"Ocurrio un problema.",status:"error",open:!0})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(a.useCallback)((function(e){f(URL.createObjectURL(e[0])),C(Object(i.a)(Object(i.a)({},y),{},{imagen:e[0]}))}),[y,C,f]),T=Object(bn.a)({onDrop:R}),B=T.getRootProps,q=T.getInputProps,L=T.isDragActive;return Object(a.useEffect)((function(){n.imagen.url&&f(n.imagen.url)}),[n]),n?Object(W.jsxs)("div",{children:[Object(W.jsxs)(gt.a,{sx:{maxWidth:345},children:[Object(W.jsx)(vt.a,{component:"img",height:"140",src:""===n.imagen.url?"http://fremontgurdwara.org/wp-content/uploads/2020/06/no-image-icon-2.png":n.imagen.url,alt:"green iguana"}),Object(W.jsxs)(yt.a,{children:[Object(W.jsxs)(me.a,{gutterBottom:!0,variant:"h5",component:"div",children:["Premio ",t]}),Object(W.jsx)(me.a,{variant:"body2",color:"text.secondary",children:""===n.nombre_premio?"":n.nombre_premio})]}),Object(W.jsx)(In.a,{children:Object(W.jsx)(Le.a,{onClick:function(){h(!0)},size:"small",children:"Editar"})})]}),Object(W.jsxs)(Me.a,{open:u,onClose:N,children:[Object(W.jsxs)(zn.a,{children:["Premio ",t]}),Object(W.jsxs)(Ge.a,{children:[Object(W.jsxs)(se.a,Object(i.a)(Object(i.a)({className:o.dropZone},B()),{},{height:250,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",children:[Object(W.jsx)("input",Object(i.a)({},q())),y.imagen||p?Object(W.jsx)(se.a,{height:230,display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)("img",{alt:"imagen del banner",src:p,className:o.imagen})}):L?Object(W.jsx)(me.a,{children:"Suelta tu imagen aqu\xed..."}):Object(W.jsx)(me.a,{children:"Arrastra y suelta tu imagen aqu\xed, o selecciona una imagen haciendo click aqu\xed"})]})),Object(W.jsx)(An.a,{autoFocus:!0,margin:"dense",id:"name",name:"nombre_premio",value:""===k?"":k,onChange:function(e){return function(e){_(e.target.value)}(e)},type:"email",fullWidth:!0,variant:"standard"}),Object(W.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(e){return E(e)},startIcon:z?Object(W.jsx)(wn.a,{color:"inherit",size:18}):"",disabled:z,children:"Guardar"})]})]})]}):null}var Dn=n(570),Pn=n(602),Nn=n(606),En=n(605),Rn=n(601),Tn=n(603),Bn=n(604),qn=n(597),Ln=n(289),Mn=n.n(Ln);n(444);function Un(e,t,n,a,c){return{name:e,calories:t,fat:n,carbs:a,protein:c}}le.a.locale("es");Un("Frozen yoghurt",159,6,24,4),Un("Ice cream sandwich",237,9,37,4.3),Un("Eclair",262,16,24,6),Un("Cupcake",305,3.7,67,4.3),Un("Gingerbread",356,16,49,3.9);function Gn(e){var t=e.setRefreash,n=e.refreash,c=(e.setCuponesSorteo,e.cuponesSorteo),r=e.sorteo,s=Object(a.useContext)($t),i=s.alert,o=s.setAlert,l=Object(a.useState)(""),j=Object(x.a)(l,2),u=j[0],h=j[1],O=Object(a.useState)([]),m=Object(x.a)(O,2),p=(m[0],m[1],function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post("/sorteo/crear/cupones/".concat(r._id),{cantidad:u}).then((function(e){console.log(e),t(!n),o({message:"Cupones generados",status:"success",open:!0}),h("")})).catch((function(e){console.log(e),o({message:"Ocurrio un problema en el servidor",status:"error",open:!0})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o({message:"Ocurrio un problema en el servidor",status:"error",open:!0});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}());return Object(W.jsxs)("div",{children:[Object(W.jsx)(et,{alert:i,setAlert:o}),Object(W.jsx)(An.a,{value:u,onChange:function(e){return function(e){try{h(e.target.value)}catch(t){console.log("error")}}(e)},id:"outlined-basic",label:"Codigos",variant:"outlined"}),Object(W.jsx)(Le.a,{size:"large",variant:"text",style:{padding:15},endIcon:Object(W.jsx)(Mn.a,{}),loading:!1,onClick:function(e){return p(e)},children:"Generar"}),Object(W.jsx)(Rn.a,{component:qn.a,children:Object(W.jsxs)(Pn.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(W.jsx)(Tn.a,{children:Object(W.jsxs)(Bn.a,{children:[Object(W.jsx)(En.a,{children:"Cupon"}),Object(W.jsx)(En.a,{align:"center",children:"Nombre del cliente"}),Object(W.jsx)(En.a,{align:"center",children:"Boletos"}),Object(W.jsx)(En.a,{align:"center",children:"Estado"}),Object(W.jsx)(En.a,{align:"center",children:"Creado el"}),Object(W.jsx)(En.a,{align:"center",children:"Canjeado el"})]})}),Object(W.jsx)(Nn.a,{children:c.map((function(e,t){return Object(W.jsx)(Hn,{cupon:e,index:t})}))})]})})]})}var Hn=function(e){var t=e.cupon,n=e.index;return Object(W.jsxs)(Bn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(W.jsx)(En.a,{component:"th",scope:"row",children:t.cupon}),Object(W.jsx)(En.a,{align:"center",children:"".concat(t.cliente?t.cliente.nombres:""," ").concat(t.cliente?t.cliente.apellidos:"")}),Object(W.jsx)(En.a,{align:"center",children:Object(W.jsx)(Vn,{cupon:t})}),Object(W.jsx)(En.a,{align:"center",children:t.canjeado?"Canjeado":"No canjeado"}),Object(W.jsx)(En.a,{align:"center",children:t.fecha_creado?le()(t.fecha_creado).locale("es-mx").format("dddd Do MMMM YYYY"):""}),Object(W.jsx)(En.a,{align:"center",children:t.fecha_pago?le()(t.fecha_pago,"YYYYMMDD").locale("es-mx").format("dddd Do MMMM YYYY"):""})]},n)},Vn=function(e){var t=e.cupon;return Object(W.jsx)("div",{children:Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",children:t.boletos.map((function(e){return Object(W.jsx)("div",{style:{padding:"0px 12px",border:"1px solid black",borderRadius:"5px",marginRight:"4px",backgroundColor:"green",color:"white",fontSize:"12px"},children:Object(W.jsx)("p",{children:e.numero_boleto})})}))})})},Yn=Object(A.a)((function(e){return{imagen:{maxHeight:"100%",maxWidth:"100%",display:"flex",justifyItems:"center",alignContent:"center",alignItems:"center"},containerImage:{width:130,height:130},formInputFlex:{display:"flex"},dropZone:{width:550,height:280,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"},input_100:{width:"100%"},m:{margin:"0px 5px"}}}));var Jn=c.a.forwardRef((function(e,t){return Object(W.jsx)(sn.a,Object(i.a)({direction:"up",ref:t},e))})),Zn=Object(A.a)((function(e){return{input:{display:"none"},imagen:{maxHeight:"100%",maxWidth:"100%"},dropZone:{width:500,height:230,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"}}}));function Xn(){var e=Object(a.useContext)($t),t=e.setAlert,n=e.setReload,c=Zn(),r=Object(a.useState)(""),s=Object(x.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(""),u=Object(x.a)(j,2),h=u[0],O=u[1],m=Object(a.useState)(!1),p=Object(x.a)(m,2),v=p[0],y=p[1],C=Object(a.useState)(!1),S=Object(x.a)(C,2),w=S[0],k=S[1],_=localStorage.getItem("tokenSorteos"),I=function(){k(!w)},A=Object(a.useCallback)((function(e){l(URL.createObjectURL(e[0])),O(Object(i.a)(Object(i.a)({},h),{},{imagen:e[0]}))}),[h,O,l]),z=Object(bn.a)({onDrop:A}),F=z.getRootProps,D=z.getInputProps,P=z.isDragActive;if(v)return Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})});var N=function(){var e=Object(b.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),h.imagen&&o){e.next=5;break}return e.abrupt("return");case 5:if(!o||!o.includes("https://prueba-tienda.s3.us-west-1.amazonaws.com")){e.next=7;break}return e.abrupt("return");case 7:return(a=new FormData).append("imagen",h.imagen),e.next=11,re.post("/bannerAdmin/newBanner/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"bearer ".concat(_)}}).then((function(e){n(!0),I(),y(!1),t({message:"Banner agregado con exito!",status:"success",open:!0})})).catch((function(e){n(!0),I(),y(!1),t({message:"Ocurrio un problema en el servidor!",status:"error",open:!0})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{children:[Object(W.jsx)(et,{alert:alert,setAlert:t}),Object(W.jsx)(g.a,{onClick:I,variant:"text",color:"primary",startIcon:Object(W.jsx)(pn.a,{}),size:"large",children:"Agregar Nuevo"}),Object(W.jsxs)(on.a,{open:w,TransitionComponent:Jn,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:I,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(Cn.a,{children:"Registro de nuevo Banner Publicitario"}),Object(W.jsxs)(ln.a,{children:[Object(W.jsx)(Z.a,{item:!0,lg:12,children:Object(W.jsx)(se.a,{textAlign:"center",display:"flex",justifyContent:"center",mt:3,children:Object(W.jsx)(xn.a,{severity:"info",children:"Tama\xf1o recomendado para su imagen: Alto: 690px, Ancho: 1920px"})})}),Object(W.jsx)(Z.a,{container:!0,justify:"center",item:!0,lg:12,children:Object(W.jsxs)(se.a,Object(i.a)(Object(i.a)({className:c.dropZone},F()),{},{height:300,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",children:[Object(W.jsx)("input",Object(i.a)({},D())),h.imagen||o?Object(W.jsx)(se.a,{height:200,display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)("img",{alt:"imagen del banner",src:o,className:c.imagen})}):P?Object(W.jsx)(f.a,{children:"Suelta tu imagen aqu\xed..."}):Object(W.jsx)(f.a,{children:"Arrastra y suelta tu imagen aqu\xed, o selecciona una imagen haciendo click aqu\xed"})]}))})]}),Object(W.jsxs)(jn.a,{children:[Object(W.jsx)(g.a,{color:"error",variant:"contained",onClick:I,children:"Cancelar"}),Object(W.jsx)(g.a,{color:"primary",variant:"contained",onClick:N,children:"Guardar"})]})]})]})}var Qn=n(571),Kn=Object(A.a)((function(){return{imagen:{maxHeight:"400px",maxWidth:"100%",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"},containerImagen:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var $n=n(572),ea=n(175),ta=n.n(ea),na=Object(A.a)((function(e){return{formInputFlex:{display:"flex"},imagen:{maxHeight:"100%",maxWidth:"100%"},dropZone:{width:500,height:230,display:"flex",justifyContent:"center",alignContent:"center",border:"dashed 2px",borderColor:"#aaaaaa"}}}));var aa=Object(A.a)((function(e){return{formInputFlex:{display:"flex"}}}));function ca(e){var t=e.setLoading,n=Object(a.useContext)($t),c=n.datos,r=n.setReload,s=n.setAlert,o=Object(a.useState)(!1),l=Object(x.a)(o,2),j=l[0],u=l[1],h=Object(a.useState)([]),O=Object(x.a)(h,2),m=O[0],p=O[1],f=localStorage.getItem("tokenSorteos"),g=function(){u(!j)},v=function(e){p(Object(i.a)(Object(i.a)({},m),{},Object(Ve.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,re.put("/empresa/actionEmpresa/preguntas/".concat(c._id),m,{headers:{Authorization:"bearer ".concat(f)}}).then((function(e){t(!1),s({message:"Pregunta agregada con Exito!",status:"success",open:!0}),r(!0),g(),console.log(e)})).catch((function(e){t(!1),s({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),r(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=aa();return Object(W.jsxs)("div",{children:[Object(W.jsx)(Le.a,{size:"large",startIcon:Object(W.jsx)(pn.a,{}),variant:"text",onClick:g,children:"Agregar pregunta"}),Object(W.jsxs)(on.a,{open:j,onClose:g,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(W.jsx)(zn.a,{id:"alert-dialog-title",children:"Nueva Pregunta"}),Object(W.jsxs)(Ge.a,{children:[Object(W.jsx)("div",{className:C.formInputFlex,children:Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{variant:"h6",children:"Pregunta:"}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",name:"pregunta",id:"form-producto-clave-alterna",variant:"outlined",onChange:v})]})}),Object(W.jsx)("div",{className:C.formInputFlex,children:Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{variant:"h6",children:"Respuesta de Pregunta:"}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",name:"respuesta",multiline:!0,rows:4,id:"form-producto-clave-alterna",variant:"outlined",onChange:v})]})})]}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(Le.a,{variant:"outlined",color:"error",onClick:g,children:"Cancelar"}),Object(W.jsx)(Le.a,{onClick:y,autoFocus:!0,variant:"contained",color:"primary",children:"Agregar"})]})]})]})}var ra=n(641),sa=n(596),ia=n(122),oa=n.n(ia);function la(){var e,t=localStorage.getItem("tokenSorteos"),n=JSON.parse(localStorage.getItem("userSorteos")),c=Object(a.useContext)($t),r=c.datos,s=c.setReload,i=c.setAlert,o=c.alert,l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],O=Object(a.useState)(!1),m=Object(x.a)(O,2),p=m[0],f=m[1],g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],C=v[1],S=Object(a.useState)(""),w=Object(x.a)(S,2),k=w[0],_=w[1],I=function(){return C(!y)},A=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,re.delete("/empresa/actionEmpresa/preguntas/".concat(n._id,"/").concat(k),{headers:{Authorization:"bearer ".concat(t)}}).then((function(e){I(),s(!0),i({message:"Pregunta eliminada con exito!",status:"success",open:!0}),f(!1)})).catch((function(e){I(),s(!0),i({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),f(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p?Object(W.jsx)($n.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})}):Object(W.jsxs)(ra.a,{children:[Object(W.jsx)(et,{alert:o,setAlert:i}),Object(W.jsx)(sa.a,{item:!0,lg:10,xs:12,children:null===(e=r.preguntas)||void 0===e?void 0:e.map((function(e,t){return Object(W.jsxs)(ue.a,{expanded:u===t,onChange:(n=t,function(e,t){h(!!t&&n)}),children:[Object(W.jsxs)(Oe.a,{expandIcon:Object(W.jsx)(oa.a,{}),"aria-controls":"panel1bh-content",children:[Object(W.jsx)($n.a,{sx:{flexGrow:1},children:Object(W.jsx)(me.a,{sx:{width:"100%",flexShrink:0},children:e.pregunta})}),Object(W.jsx)($n.a,{mr:2,children:Object(W.jsx)(T.a,{color:"primary",onClick:function(){I(),_(e._id)},children:Object(W.jsx)(Qn.a,{})})})]}),Object(W.jsx)(he.a,{children:Object(W.jsx)(me.a,{children:e.respuesta})})]},t);var n}))}),Object(W.jsxs)(Me.a,{open:y,onClose:I,children:[Object(W.jsx)(zn.a,{children:"\xbfSeguro que quieres eliminar esto?"}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(Le.a,{onClick:I,color:"primary",children:"Cancelar"}),Object(W.jsx)(Le.a,{color:"primary",autoFocus:!0,variant:"contained",onClick:function(){return A()},children:"Eliminar"})]})]})]})}var ja=Object(A.a)((function(e){return{formInputFlex:{display:"flex"}}}));function da(e){var t=e.setLoading,n=Object(a.useContext)($t),c=n.datos,r=n.setReload,s=n.setAlert,o=Object(a.useState)(!1),l=Object(x.a)(o,2),j=l[0],u=l[1],h=Object(a.useState)([]),O=Object(x.a)(h,2),m=O[0],p=O[1],f=localStorage.getItem("tokenSorteos"),g=function(){u(!j)},v=function(e){p(Object(i.a)(Object(i.a)({},m),{},Object(Ve.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,re.put("/empresa/actionEmpresa/videos/".concat(c._id),m,{headers:{Authorization:"bearer ".concat(f)}}).then((function(e){s({message:"Video Nuevo Agregado!",status:"success",open:!0}),t(!1),r(!0),g(),console.log(e)})).catch((function(e){s({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),t(!1),r(!0),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=ja();return Object(W.jsxs)("div",{children:[Object(W.jsx)(Le.a,{size:"large",startIcon:Object(W.jsx)(ta.a,{}),variant:"text",onClick:g,children:"Agregar Video"}),Object(W.jsxs)(on.a,{open:j,onClose:g,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(W.jsx)(zn.a,{id:"alert-dialog-title",children:"Nueva Video Promocional"}),Object(W.jsxs)(Ge.a,{children:[Object(W.jsx)("div",{className:C.formInputFlex,children:Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{variant:"h6",children:"Ttitulo de video:"}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",name:"titulo_video",id:"form-producto-clave-alterna",variant:"outlined",onChange:v})]})}),Object(W.jsx)("div",{className:C.formInputFlex,children:Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{variant:"h6",children:"Enlace del Video:"}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",name:"link_video",id:"form-producto-clave-alterna",variant:"outlined",onChange:v})]})})]}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(Le.a,{variant:"outlined",color:"error",onClick:g,children:"Cancelar"}),Object(W.jsx)(Le.a,{onClick:y,autoFocus:!0,variant:"contained",color:"primary",children:"Agregar"})]})]})]})}function ba(){var e,t=localStorage.getItem("tokenSorteos"),n=JSON.parse(localStorage.getItem("userSorteos")),c=Object(a.useState)(!1),r=Object(x.a)(c,2),s=r[0],i=r[1],o=Object(a.useContext)($t),l=o.datos,j=o.setReload,u=o.setAlert,h=o.alert,O=Object(a.useState)(!1),m=Object(x.a)(O,2),p=m[0],f=m[1],g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],C=v[1],S=Object(a.useState)(""),w=Object(x.a)(S,2),k=w[0],_=w[1],I=function(){return f(!p)},A=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,re.delete("/empresa/actionEmpresa/videos/".concat(n._id,"/").concat(k),{headers:{Authorization:"bearer ".concat(t)}}).then((function(e){I(),j(!0),u({message:"Video Eliminado con exito!",status:"success",open:!0}),C(!1)})).catch((function(e){I(),j(!0),u({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),C(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y?Object(W.jsx)($n.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})}):Object(W.jsxs)(ra.a,{children:[Object(W.jsx)(et,{alert:h,setAlert:u}),Object(W.jsx)(sa.a,{item:!0,lg:10,xs:12,children:null===(e=l.videos_ganadores)||void 0===e?void 0:e.map((function(e,t){return Object(W.jsxs)(ue.a,{expanded:s===t,onChange:(n=t,function(e,t){i(!!t&&n)}),children:[Object(W.jsxs)(Oe.a,{expandIcon:Object(W.jsx)(oa.a,{}),children:[Object(W.jsx)($n.a,{sx:{flexGrow:1},children:Object(W.jsx)(me.a,{sx:{width:"100%",flexShrink:0},children:e.titulo_video})}),Object(W.jsx)($n.a,{mr:2,children:Object(W.jsx)(T.a,{color:"primary",onClick:function(){I(),_(e._id)},children:Object(W.jsx)(Qn.a,{})})})]}),Object(W.jsx)(he.a,{children:Object(W.jsx)($n.a,{children:Object(W.jsx)(We.a,{url:e.link_video,width:"290px",height:"230px"})})})]});var n}))}),Object(W.jsxs)(Me.a,{open:p,onClose:I,children:[Object(W.jsx)(zn.a,{children:"\xbfSeguro que quieres eliminar esto?"}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(Le.a,{onClick:I,color:"primary",children:"Cancelar"}),Object(W.jsx)(Le.a,{color:"primary",autoFocus:!0,variant:"contained",onClick:function(){return A()},children:"Eliminar"})]})]})]})}var xa=n(587),ua=n(642),ha=n(643),Oa=c.a.forwardRef((function(e,t){return Object(W.jsx)(sn.a,Object(i.a)({direction:"up",ref:t},e))}));function ma(e){var t=e.boletos,n=Object(a.useContext)($t),c=n.setAlert,r=n.alert,s=Object(a.useState)(!1),i=Object(x.a)(s,2),o=i[0],l=i[1],j=function(){l(!o)};return Object(W.jsxs)("div",{children:[Object(W.jsx)(et,{alert:r,setAlert:c}),Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(g.a,{variant:"contained",size:"large",color:"primary",onClick:j,children:"Ver Boletos"})}),Object(W.jsxs)(Me.a,{open:o,TransitionComponent:Oa,keepMounted:!0,fullWidth:!0,maxWidth:"lg",onClose:j,"aria-describedby":"alert-dialog-slide-description",children:[Object(W.jsx)(u.a,{position:"static",color:"default",elevation:0,children:Object(W.jsx)(se.a,{display:"flex",children:Object(W.jsx)(se.a,{p:2,children:Object(W.jsx)(f.a,{variant:"h5",children:"Lista de Boletos participantes"})})})}),Object(W.jsx)(Ge.a,{children:Object(W.jsx)(Z.a,{container:!0,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(se.a,{p:1,children:Object(W.jsx)(Ee.a,{elevantion:3,style:{backgroundColor:!0===e.vendido?"#2e7d32":""},children:Object(W.jsx)(se.a,{p:1,children:Object(W.jsxs)(f.a,{children:[" ",Object(W.jsx)("b",{children:e.numero_boleto})," "]})})})},t)}))})}),Object(W.jsx)(Ue.a,{children:Object(W.jsx)(g.a,{color:"error",variant:"contained",onClick:function(){return j()},children:"Cerrar"})})]})]})}var pa=Object(A.a)((function(e){return{formInputFlex:{display:"flex"},imagen:{maxHeight:"100%",maxWidth:"100%"}}}));var fa=[{path:"/admin",component:function(e){var t=e.routes;return JSON.parse(localStorage.getItem("userSorteos"))||e.history.push("/"),Object(W.jsx)(a.Fragment,{children:Object(W.jsx)(en,{children:Object(W.jsxs)(se.a,{sx:{display:"flex"},children:[Object(W.jsx)(cn,{}),Object(W.jsxs)(se.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[Object(W.jsx)(h.a,{}),Object(W.jsx)("div",{style:{minHeight:"90vh"},children:Object(W.jsx)(rn,{routes:t})})]})]})})})},exact:!1,routes:[{path:"/admin",component:function(){var e=Object(a.useContext)($t),t=e.datos,n=e.setDatos,c=e.setAlert,r=Object(a.useState)([]),s=Object(x.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(!1),u=Object(x.a)(j,2),h=u[0],O=u[1],m=localStorage.getItem("tokenSorteos"),p=Object(a.useState)(""),f=Object(x.a)(p,2),g=f[0],v=f[1],y=na(),C=Object(a.useCallback)((function(e){v(URL.createObjectURL(e[0])),l(Object(i.a)(Object(i.a)({},o),{},{imagen:e[0]}))}),[o,l,v]),S=Object(bn.a)({onDrop:C}),w=S.getRootProps,k=S.getInputProps,_=S.isDragActive;if(Object(a.useEffect)((function(){t&&v(t.imgEmpresaUrl)}),[t]),h)return Object(W.jsx)($n.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})});var I=function(e){n(Object(i.a)(Object(i.a)({},t),{},Object(Ve.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),(n=new FormData).append("nombre_empresa",t.nombre_empresa),n.append("propietario",t.propietario),n.append("telefono",t.telefono),n.append("calle_numero",t.calle_numero),n.append("cp",t.cp),n.append("colonia",t.colonia),n.append("ciudad",t.ciudad),n.append("quienes_somos",t.quienes_somos),void 0===t.facebook||""===t.instagram?n.append("facebook",""):n.append("facebook",t.facebook),void 0===t.instagram||""===t.instagram?n.append("instagram",""):n.append("instagram",t.instagram),void 0===t.twiter||""===t.instagram?n.append("twiter",""):n.append("twiter",t.twiter),o.imagen&&n.append("imagen",o.imagen),e.next=16,re.put("/empresa/empresaSorteo/".concat(t._id),n,{headers:{"Content-Type":"multipart/form-data",Authorization:"bearer ".concat(m)}}).then((function(e){console.log(e.data),O(!1),c({message:"Informacion editada con exito!",status:"success",open:!0})})).catch((function(e){O(!1),c({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)($n.a,{children:Object(W.jsxs)($n.a,{p:2,children:[Object(W.jsxs)("div",{className:y.formInputFlex,children:[Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Nombre Empresa:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.nombre_empresa?t.nombre_empresa:"",name:"nombre_empresa",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Propietario"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.propietario?t.propietario:"",name:"propietario",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Telefono:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.telefono?t.telefono:"",name:"telefono",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]})]}),Object(W.jsx)($n.a,{p:2,width:"80%",children:Object(W.jsx)(Dn.a,{})}),Object(W.jsx)("div",{className:y.formInputFlex,children:Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Quienes somos?:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",multiline:!0,rows:5,value:t.quienes_somos?t.quienes_somos:"",name:"quienes_somos",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]})}),Object(W.jsx)($n.a,{p:2,width:"80%",children:Object(W.jsx)(Dn.a,{})}),Object(W.jsx)($n.a,{mt:1,children:Object(W.jsx)(me.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Datos Domiciliarios:"})})}),Object(W.jsxs)("div",{className:y.formInputFlex,children:[Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Domicilio:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.calle_numero?t.calle_numero:"",name:"calle_numero",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Colonia:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.colonia?t.colonia:"",name:"colonia",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"C.P.:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.cp?t.cp:"",name:"cp",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Ciudad:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.ciudad?t.ciudad:"",name:"ciudad",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]})]}),Object(W.jsx)($n.a,{p:2,width:"80%",children:Object(W.jsx)(Dn.a,{})}),Object(W.jsx)($n.a,{mt:1,children:Object(W.jsx)(me.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Redes Sociales"})})}),Object(W.jsxs)("div",{className:y.formInputFlex,children:[Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Facebook:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.facebook?t.facebook:"",name:"facebook",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Instagram:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.instagram?t.instagram:"",name:"instagram",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]}),Object(W.jsxs)($n.a,{width:"100%",p:1,children:[Object(W.jsx)(me.a,{children:Object(W.jsx)("b",{children:"Twitter:"})}),Object(W.jsx)(An.a,{fullWidth:!0,size:"small",value:t.twitter?t.twitter:"",name:"twitter",id:"form-producto-clave-alterna",variant:"outlined",onChange:I})]})]}),Object(W.jsx)($n.a,{p:2,width:"80%",children:Object(W.jsx)(Dn.a,{})}),Object(W.jsx)($n.a,{children:Object(W.jsx)(me.a,{variant:"h6",children:Object(W.jsx)("b",{children:"Imagen de tu empresa"})})}),Object(W.jsx)("div",{className:y.formInputFlex,children:Object(W.jsxs)($n.a,Object(i.a)(Object(i.a)({className:y.dropZone},w()),{},{height:250,width:"50%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",children:[Object(W.jsx)("input",Object(i.a)({},k())),o.imagen||g?Object(W.jsx)($n.a,{height:200,display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)("img",{alt:"imagen del banner",src:g,className:y.imagen})}):_?Object(W.jsx)(me.a,{children:"Suelta tu imagen aqu\xed..."}):Object(W.jsx)(me.a,{children:"Arrastra y suelta tu imagen aqu\xed, o selecciona una imagen haciendo click aqu\xed"})]}))}),Object(W.jsx)($n.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)(Le.a,{variant:"outlined",size:"large",color:"primary",startIcon:Object(W.jsx)(ta.a,{}),onClick:A,children:"Guardar"})})]})})},exact:!0},{path:"/admin/sorteos-boletos",component:function(){var e,t,n,c=Object(a.useContext)($t),r=c.alert,s=c.setAlert,o=Yn(),l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],O=Object(a.useState)(!1),m=Object(x.a)(O,2),p=m[0],g=m[1],v=Object(a.useState)([]),y=Object(x.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)(""),k=Object(x.a)(w,2),_=k[0],I=k[1],A=Object(a.useState)([]),z=Object(x.a)(A,2),F=z[0],D=z[1],P=Object(a.useState)([]),N=Object(x.a)(P,2),E=N[0],R=N[1],T=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.get("/sorteo/getSorteoActivo").then((function(e){g(!1),S(e.data.sorteo),R(e.data.cupones)})).catch((function(e){g(!1),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(a.useCallback)((function(e){I(URL.createObjectURL(e[0])),D(Object(i.a)(Object(i.a)({},F),{},{imagen:e[0]}))}),[F,D,I]),q=Object(bn.a)({onDrop:B}),L=q.getRootProps,M=q.getInputProps,U=q.isDragActive;Object(a.useEffect)((function(){C&&I(C.imgSorteoBoletosUrl)}),[C]),Object(a.useEffect)((function(){T()}),[u]);var G=function(e){S(Object(i.a)(Object(i.a)({},C),{},Object(Ve.a)({},e.target.name,e.target.value)))};return p?Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(Ne.a,{})}):Object(W.jsxs)(ge.a,{children:[Object(W.jsx)(et,{alert:r,setAlert:s}),C?null:Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(gn,{loading:p,setLoading:g,setRefreash:h,refreash:u})}),Object(W.jsx)(Z.a,{container:!0,children:Object(W.jsx)(Z.a,{item:!0,lg:12,children:Object(W.jsxs)(se.a,{p:2,children:[Object(W.jsxs)(se.a,{display:"flex",justifyContent:"flex-end",children:[C?Object(W.jsx)(se.a,{children:Object(W.jsx)(Sn,{sorteo:C,loading:p,setLoading:g,setRefreash:h,refreash:u,setPreview:I})}):null,C?Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",p:1,children:Object(W.jsx)(yn,{loading:p,setLoading:g,sorteo:C})}):null]}),Object(W.jsxs)(se.a,{p:1,children:[Object(W.jsxs)("div",{className:o.formInputFlex,children:[Object(W.jsxs)(se.a,Object(i.a)(Object(i.a)({className:o.dropZone},L()),{},{height:250,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",children:[Object(W.jsx)("input",Object(i.a)({},M())),F.imagen||_?Object(W.jsx)(se.a,{height:230,display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)("img",{alt:"imagen del banner",src:_,className:o.imagen})}):U?Object(W.jsx)(f.a,{children:"Suelta tu imagen aqu\xed..."}):Object(W.jsx)(f.a,{children:"Arrastra y suelta tu imagen aqu\xed, o selecciona una imagen haciendo click aqu\xed"})]})),Object(W.jsxs)("div",{className:o.input_100,children:[Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:"Nombre Sorteo: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"nombre_sorteo",value:C?C.nombre_sorteo:"",id:"form-producto-clave-alterna",variant:"outlined",onChange:G})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:"Fecha Sorteo: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"fecha_sorteo",value:C?C.fecha_sorteo:"",type:"date",id:"form-producto-clave-alterna",variant:"outlined",onChange:G})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:"Precio de boleto: "})}),Object(W.jsx)(tt.a,{fullWidth:!0,size:"small",name:"precio_boleto",value:C?C.precio_boleto:"",id:"form-producto-clave-alterna",variant:"outlined",onChange:G})]})]})]}),Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",children:C?Object(W.jsx)(se.a,{p:1,children:Object(W.jsx)(_n,{sorteo:C,dataImagen:F})}):null}),Object(W.jsx)(se.a,{p:4,children:Object(W.jsx)(Dn.a,{children:"PREMIOS"})}),Object(W.jsx)("div",{children:Object(W.jsxs)(se.a,{display:"flex",children:[(null===C||void 0===C||null===(e=C.lista_premios)||void 0===e?void 0:e.premio_uno)?Object(W.jsx)(se.a,{width:"100%",p:1,children:Object(W.jsx)(Fn,{id:1,sorteo:C,premio:C.lista_premios.premio_uno,sSetLoading:g,sloading:p})}):null,(null===C||void 0===C||null===(t=C.lista_premios)||void 0===t?void 0:t.premio_dos)?Object(W.jsx)(se.a,{width:"100%",p:1,children:Object(W.jsx)(Fn,{id:2,sorteo:C,premio:C.lista_premios.premio_dos,sSetLoading:g,sloading:p})}):null,(null===C||void 0===C||null===(n=C.lista_premios)||void 0===n?void 0:n.premio_tres)?Object(W.jsx)(se.a,{width:"100%",p:1,children:Object(W.jsx)(Fn,{id:3,sorteo:C,premio:C.lista_premios.premio_tres,sSetLoading:g,sloading:p})}):null]})}),Object(W.jsx)(se.a,{p:4,children:Object(W.jsx)(Dn.a,{children:"Cupones"})}),Object(W.jsx)(Gn,{setRefreash:h,refreash:u,sorteo:C,setCuponesSorteo:R,cuponesSorteo:E})]})]})})})]})},exact:!0},{path:"/admin/publicidad-banners",component:function(){var e,t=localStorage.getItem("tokenSorteos"),n=Object(a.useContext)($t),c=n.alert,r=n.setAlert,s=n.reload,i=n.setReload,o=Kn(),l=Object(a.useState)(!1),j=Object(x.a)(l,2),u=j[0],h=j[1],O=Object(a.useState)(!1),m=Object(x.a)(O,2),p=m[0],f=m[1],v=Object(a.useState)([]),y=Object(x.a)(v,2),C=y[0],S=y[1],w=function(){return f(!p)},k=Object(a.useState)(""),_=Object(x.a)(k,2),I=_[0],A=_[1],z=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,re.get("/bannerAdmin/banner-company").then((function(e){h(!1),S(e.data)})).catch((function(e){h(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,re.delete("/bannerAdmin/".concat(I),{headers:{Authorization:"bearer ".concat(t)}}).then((function(e){console.log(e),w(),i(!0),r({message:"Banner eliminado con exito!",status:"success",open:!0}),h(!1)})).catch((function(e){console.log(e),w(),i(!0),r({message:"Ocurrio un problema en el servidor",status:"error",open:!0}),h(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){z()}),[s]),u?Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})}):Object(W.jsxs)("div",{children:[Object(W.jsx)(et,{alert:c,setAlert:r}),Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(Xn,{})}),null===C||void 0===C||null===(e=C.bannersComapny)||void 0===e?void 0:e.map((function(e){return Object(W.jsx)(Z.a,{item:!0,lg:12,xs:12,children:Object(W.jsx)(se.a,{textAlign:"center",p:2,children:Object(W.jsxs)(Ee.a,{elevation:8,children:[Object(W.jsx)(se.a,{position:"absolute",p:1,children:Object(W.jsx)(g.a,{variant:"contained",color:"error",size:"small",onClick:function(){w(),A(e._id)},children:Object(W.jsx)(Qn.a,{})})}),Object(W.jsx)(se.a,{p:1,className:o.containerImagen,children:Object(W.jsx)("img",{className:o.imagen,alt:"imagen de banner",src:e.imgBannerAdminUrl})})]})})})})),Object(W.jsxs)(Me.a,{open:p,onClose:w,children:[Object(W.jsx)(zn.a,{children:"\xbfSeguro que quieres eliminar esto?"}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(g.a,{onClick:w,color:"primary",children:"Cancelar"}),Object(W.jsx)(g.a,{color:"primary",autoFocus:!0,variant:"contained",onClick:function(){return F()},children:"Eliminar"})]})]})]})},exact:!0},{path:"/admin/preguntas-frecuentes",component:function(){var e=Object(a.useContext)($t),t=e.alert,n=e.setAlert,c=Object(a.useState)(!1),r=Object(x.a)(c,2),s=r[0],i=r[1];return s?Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})}):Object(W.jsxs)(ge.a,{children:[Object(W.jsx)(et,{alert:t,setAlert:n}),Object(W.jsx)(se.a,{display:"flex",justifyContent:"flex-end",mb:2,children:Object(W.jsx)(ca,{loading:s,setLoading:i})}),Object(W.jsx)(la,{})]})},exact:!0},{path:"/admin/videos-promocionales",component:function(){var e=Object(a.useContext)($t),t=e.alert,n=e.setAlert,c=Object(a.useState)(!1),r=Object(x.a)(c,2),s=r[0],i=r[1];return s?Object(W.jsx)($n.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(wn.a,{})}):Object(W.jsxs)(ra.a,{children:[Object(W.jsx)(et,{alert:t,setAlert:n}),Object(W.jsx)($n.a,{display:"flex",justifyContent:"flex-end",mb:2,children:Object(W.jsx)(da,{loading:s,setLoading:i})}),Object(W.jsx)(ba,{})]})},exact:!0},{path:"/admin/sorteos-eliminados",component:function(){var e=pa(),t=Object(a.useState)(!1),n=Object(x.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),i=Object(x.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(!1),u=Object(x.a)(j,2),h=u[0],O=u[1],m=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,re.get("/sorteo/getSorteosEliminados").then((function(e){r(!1),l(e.data.sorteos)})).catch((function(e){r(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("entro elim"),m()}),[]),c?Object(W.jsx)(se.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh",children:Object(W.jsx)(Ne.a,{})}):Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(ge.a,{children:Object(W.jsx)(Z.a,{item:!0,lg:10,xs:12,children:null===o||void 0===o?void 0:o.map((function(t,n){return Object(W.jsx)(se.a,{p:1,children:Object(W.jsxs)(xa.a,{expanded:h===n,onChange:(a=n,function(e,t){O(!!t&&a)}),children:[Object(W.jsx)(ua.a,{expandIcon:Object(W.jsx)(oa.a,{}),"aria-controls":"panel1bh-content",children:Object(W.jsx)(se.a,{sx:{flexGrow:1},children:Object(W.jsx)(f.a,{sx:{width:"100%",flexShrink:0},children:Object(W.jsx)("b",{children:t.nombre_sorteo})})})}),Object(W.jsx)(ha.a,{children:Object(W.jsxs)(Z.a,{item:!0,lg:12,children:[Object(W.jsxs)("div",{className:e.formInputFlex,children:[Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:"Fecha del Sorteo:"})}),Object(W.jsx)(f.a,{children:t.fecha_sorteo})]}),Object(W.jsxs)(se.a,{width:"100%",p:1,children:[Object(W.jsx)(f.a,{children:Object(W.jsx)("b",{children:"Precio del Boleto"})}),Object(W.jsx)(f.a,{children:t.precio_boleto})]})]}),Object(W.jsx)(se.a,{children:Object(W.jsx)(ma,{boletos:t.boletos})})]})})]},n)});var a}))})})})},exact:!0},{path:"/admin/cupones",component:Gn,exact:!0},{component:At}]},{path:"/",component:function(e){var t=e.routes,n=a.useContext(F),c=n.datos,r=n.setDatos,s=n.setDatosSorteo,i=n.setLoadingsorteo,o=n.setFinalizado,l=a.useState(!1),j=Object(x.a)(l,2),O=j[0],m=j[1],p=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.get("/empresa/empresaSorteo").then((function(e){r(e.data.empresa),m(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,re.get("/sorteo/getSorteoActivo").then((function(e){s(e.data.sorteo),i(!1);var t=le()();le()(e.data.sorteo.fecha_sorteo).isBefore(t)&&o(!0)})).catch((function(e){console.log(e),i(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.useEffect((function(){g(),p()}),[]),O&&0===c.length?Object(W.jsx)(se.a,{height:"95vh",display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsxs)(se.a,{height:600,width:600,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(W.jsx)("img",{alt:"mantenimiento",src:ie}),Object(W.jsx)(f.a,{variant:"h4",textAlign:"center",children:"Estamos en mantenimiento"})]})}):Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(ae.a,{}),Object(W.jsx)(u.a,{children:Object(W.jsx)(h.a,{children:Object(W.jsx)(J,{})})}),Object(W.jsx)("div",{children:Object(W.jsx)(je,{routes:t})}),Object(W.jsx)("div",{children:Object(W.jsx)(ne,{})})]})},exact:!1,routes:[{path:"/",component:function(){var e,t,n=c.a.useContext(F).datos;return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(O.a,{mt:7,children:Object(W.jsx)(xe,{})}),Object(W.jsx)(O.a,{style:{background:"#000",color:"#fff"},display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(Ce,{})}),Object(W.jsx)(St,{type:"FRENTE"}),void 0===(null===n||void 0===n?void 0:n.quienes_somos)?null:Object(W.jsx)(O.a,{mt:5,children:Object(W.jsx)(De.a,{animation:{x:0,opacity:1,playScale:[0,.8]},style:{transform:"translateX(80px)",opacity:0},children:Object(W.jsx)(O.a,{children:Object(W.jsx)(ye,{})})})}),0===(null===n||void 0===n||null===(e=n.preguntas)||void 0===e?void 0:e.length)?null:Object(W.jsx)(O.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(De.a,{animation:{x:0,opacity:1,playScale:[0,.8]},style:{transform:"translateX(-80px)",opacity:0},children:Object(W.jsx)(ve,{})})}),Object(W.jsx)(O.a,{my:2,children:0===(null===n||void 0===n||null===(t=n.videos_ganadores)||void 0===t?void 0:t.length)?null:Object(W.jsx)(Fe,{})})]})},exact:!0},{path:"/sorteos/verificador",component:function(){return Object(W.jsx)(At,{})},exact:!0},{path:"/sorteos/boletos",component:St,exact:!0},{path:"/sorteos/sorteo-terminado",component:function(){return Object(W.jsx)(a.Fragment,{children:Object(W.jsx)(Z.a,{lg:4,xs:12,children:Object(W.jsxs)(Ee.a,{elevantion:3,children:[Object(W.jsx)(O.a,{textAlign:"center",p:2,children:Object(W.jsx)(f.a,{variant:"h4",children:"Gracias por tu apoyo!"})}),Object(W.jsx)(O.a,{textAlign:"center",p:2,children:Object(W.jsx)(f.a,{variant:"h4",children:"La lista de Boletos se ha agotado!"})}),Object(W.jsx)(O.a,{textAlign:"center",p:2,children:Object(W.jsx)(f.a,{variant:"h6",children:"Te esperamos a las 8pm (Hora CDMX)!"})})]})})})},exact:!0},{path:"/login",component:function(e){var t=_t(),n=c.a.useContext(F).datos,r=Object(a.useState)(!1),s=Object(x.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(!1),u=Object(x.a)(j,2),h=u[0],m=u[1],v=Object(a.useState)([]),y=Object(x.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)({message:"",status:"",open:!1}),k=Object(x.a)(w,2),_=k[0],I=k[1],A=localStorage.getItem("userSorteos");(localStorage.getItem("tokenSorteos")||A)&&e.history.push("/");var z=function(e){S(Object(i.a)(Object(i.a)({},C),{},Object(Ve.a)({},e.target.name,e.target.value)))},D=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C.nameUser&&C.password){e.next=4;break}return m(!0),e.abrupt("return");case 4:return l(!0),e.next=7,re.post("/empresa/logIn/",C).then((function(e){var t=Object(kt.a)(e.data.token),n=e.data.token;localStorage.setItem("tokenSorteos",n),localStorage.setItem("userSorteos",JSON.stringify(t)),l(!1),window.location.href="/admin"})).catch((function(e){l(!1),e.response&&e.response.data?I({message:e.response.data.message,status:"error",open:!0}):I({message:"Error del seridor",status:"error",open:!0})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(O.a,{my:10,children:[Object(W.jsx)(et,{alert:_,setAlert:I}),Object(W.jsxs)(ge.a,{maxWidth:"xs",children:[Object(W.jsx)(O.a,{sx:{display:"flex",justifyContent:"center"},children:Object(W.jsx)(O.a,{className:t.containerImage,children:Object(W.jsx)(p.a,{sx:{width:135,height:135},children:Object(W.jsx)("img",{className:t.image,src:n.imgEmpresaUrl,alt:"imagen logo"})})})}),Object(W.jsx)(O.a,{p:2,textAlign:"center",children:Object(W.jsx)(f.a,{variant:"h4",children:"Iniciar Sesi\xf3n"})}),Object(W.jsxs)("form",{autoComplete:"off",onSubmit:D,children:[Object(W.jsx)(tt.a,{label:"Usuario",error:!C.nameUser&&h,helperText:!C.nameUser&&h?"Esta campo es requerido":null,fullWidth:!0,size:"small",name:"nameUser",variant:"outlined",onChange:z,margin:"normal"}),Object(W.jsx)(tt.a,{label:"Contrase\xf1a",fullWidth:!0,error:!C.password&&h,helperText:!C.password&&h?"Esta campo es requerido":null,size:"small",type:"password",name:"password",id:"form-producto-clave-alterna",variant:"outlined",onChange:z,margin:"normal"}),Object(W.jsx)(O.a,{my:3,display:"flex",justifyContent:"center",children:Object(W.jsx)(g.a,{color:"primary",size:"large",variant:"contained",type:"submit",disabled:o,startIcon:o?Object(W.jsx)(Ne.a,{color:"inherit",size:18}):null,children:"Iniciar Sesi\xf3n"})})]})]})]})},exact:!0},{component:At}]}],ga=n(290);function va(e){return Object(W.jsx)(l.a,{path:e.path,exact:e.exact,render:function(t){return Object(W.jsx)(e.component,Object(i.a)({routes:e.routes},t))}})}var ya=function(){return Object(W.jsxs)("div",{className:"App",style:{overflowX:"hidden"},children:[Object(W.jsxs)(ga.a,{children:[Object(W.jsx)("meta",{charSet:"utf-8"}),Object(W.jsx)("title",{children:"Sorteos y Rifas de la Suerte"})]}),Object(W.jsx)(D,{children:Object(W.jsx)(o.a,{children:Object(W.jsx)(l.c,{children:fa.map((function(e,t){return Object(W.jsx)(va,Object(i.a)({},e),t)}))})})})]})};s.a.render(Object(W.jsx)(ya,{}),document.getElementById("root"))}},[[445,1,2]]]);
//# sourceMappingURL=main.0dc14bda.chunk.js.map